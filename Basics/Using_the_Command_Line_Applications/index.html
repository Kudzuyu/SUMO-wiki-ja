
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Basics/Using_the_Command_Line_Applications/">
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>コマンドラインの使いかた - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-140953050-1","kudzuyu.github.io/SUMO-wiki-ja"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#コマンドラインの使いかた" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://kudzuyu.github.io/SUMO-wiki-ja/" title="SUMO wiki ja" class="md-header-nav__button md-logo" aria-label="SUMO wiki ja">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            SUMO wiki ja
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              コマンドラインの使いかた
            
          </span>
        </div>
      
    </div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
    
      
    
    <a href="../.." class="md-tabs__link md-tabs__link--active">
      ドキュメント
    </a>
  </li>

      
        
      
        
      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://kudzuyu.github.io/SUMO-wiki-ja/" title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      ドキュメント
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Downloads/" class="md-nav__link">
      ダウンロード
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Publications/" class="md-nav__link">
      出版物
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#コマンドラインからsumoアプリケーションを使う" class="md-nav__link">
    コマンドラインからSUMOアプリケーションを使う
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#オプション" class="md-nav__link">
    オプション
  </a>
  
    <nav class="md-nav" aria-label="オプション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#コマンドラインでのオプション設定" class="md-nav__link">
    コマンドラインでのオプション設定
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#オプションの値の型" class="md-nav__link">
    オプションの値の型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#設定ファイル" class="md-nav__link">
    設定ファイル
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#一般的なオプション" class="md-nav__link">
    一般的なオプション
  </a>
  
    <nav class="md-nav" aria-label="一般的なオプション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#通知オプション" class="md-nav__link">
    通知オプション
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#乱数のオプション" class="md-nav__link">
    乱数のオプション
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ファイルの生成と読み込み" class="md-nav__link">
    ファイルの生成と読み込み
  </a>
  
    <nav class="md-nav" aria-label="ファイルの生成と読み込み">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml使用に関するヒント" class="md-nav__link">
    XML使用に関するヒント
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ファイルの書き込み" class="md-nav__link">
    ファイルの書き込み
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pythonツールをコマンドラインから使う" class="md-nav__link">
    Pythonツールをコマンドラインから使う
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="コマンドラインの使いかた">コマンドラインの使いかた<a class="headerlink" href="#コマンドラインの使いかた" title="Permanent link">&para;</a></h1>
<p><a href="https://sumo.dlr.de/docs/Basics/Using_the_Command_Line_Applications.html">原文ページ</a></p>
<p>SUMOパッケージの多くのアプリケーションはコマンドラインツールです。
現在<a href="">SUMO-GUI</a>のみが例外です。
「コマンドライン」がなにかわからない場合は、<a href="">基本的なコンピュータスキル</a>を参照してください。</p>
<h2 id="コマンドラインからsumoアプリケーションを使う">コマンドラインからSUMOアプリケーションを使う<a class="headerlink" href="#コマンドラインからsumoアプリケーションを使う" title="Permanent link">&para;</a></h2>
<p>SUMOアプリケーションは単純な実行可能ファイルです。
コマンドラインに名前を打ちこむことで使うことができます。
例えば<a href="">NETGENERATE</a>なら</p>
<pre><code>netgenerate.ext
</code></pre>

<p>とすることでWindowsで</p>
<pre><code>netgenerate
</code></pre>

<p>とすることでLinuxで起動することができます。</p>
<p>これだけでアプリケーション(この場合は<a href="">NETGENERATE</a>)が起動します。
なんのパラメータも与えられていないので、アプリケーションはやるべきことがわからないため、自分自身に関する情報のみを出力します。</p>
<pre><code>SUMO netgenerate Version 1.2.0
 Build features: Linux-4.1.39-56-default Proj GDAL GUI
 Copyright (C) 2001-2017 DLR and contributors; http://sumo.dlr.de
 License EPLv2: Eclipse Public License Version 2 &lt;https://eclipse.org/legal/epl-v20.html&gt;
 Use --help to get the list of options.
</code></pre>

<h2 id="オプション">オプション<a class="headerlink" href="#オプション" title="Permanent link">&para;</a></h2>
<p>アプリケーションごとにどのファイルが処理/生成されるかのオプションがあります。
通常、アプリケーションは最低二つのパラメータ -入力ファイルと出力ファイル- を必要としますが、きめ細かな制御のためにはほぼ常により多くのパラメータが使用されます。
アプリケーションごとのオプションについてはそのアプリケーションの説明に書かれています。
ここでは、オプションをどのように設定するかを示します。</p>
<h3 id="コマンドラインでのオプション設定">コマンドラインでのオプション設定<a class="headerlink" href="#コマンドラインでのオプション設定" title="Permanent link">&para;</a></h3>
<p>オプションには2種類あります。
引数を必要とせず指定されると「真」に設定される真偽値オプション(引数として"true"、"false"のような真偽値が指定されればその値になります)と、引数を必要とするオプションです。
コマンドラインでの引数付きオプションの設定はオプションの名前と値の二つに分かれます。
例として、シミュレーションで"mynet.net.xml"というロードネットワークを読みこむ場合、次のように書けます。</p>
<pre><code>--net mynet.net.xml
</code></pre>

<p>先頭の'--'は、オプションの長い名前("net")が来ることを示しています。
空白のあとにはオプションの値を与える必要があります。l
空白のかわりに'='を使うこともできます。</p>
<pre><code>--net=mynet.net.xml
</code></pre>

<p>いくつかのよく使われるオプションについては、短縮表記することが可能です。
<strong>--net</strong>オプションの短縮表記は<strong>-n</strong>です。
下の表記は上二つと全く同じ動きをします。</p>
<pre><code>-n mynet.net.xml
</code></pre>

<p>短縮表記では一つの'-'を使うことに注意してください。</p>
<div class="admonition note">
<p class="admonition-title">注</p>
<p>SUMOソフト群のなかで、全ての短縮表記が常に同じ意味を示すわけではありません。</p>
</div>
<h3 id="オプションの値の型">オプションの値の型<a class="headerlink" href="#オプションの値の型" title="Permanent link">&para;</a></h3>
<p>SUMOアプリケーションは、どんな種類の値が設定されるべきか知っています。
例えば、<a href="">NETGENERATE</a>は標準の車線幅を決めることができ、これは整数値でなければいけません。
この時に文字列やその他の値が与えられると、</p>
<h3 id="設定ファイル">設定ファイル<a class="headerlink" href="#設定ファイル" title="Permanent link">&para;</a></h3>
<p>オプションのリストがとても長くなってしまうことがあるため、設定ファイルが導入されました。
アプリケーション開始時に必要な全てのパラメータを含んだ設定ファイルを作ることができます。
さらには、設定ファイルを与えるだけでアプリケーションが動くようにします。</p>
<p>設定ファイルはXMLファイルで、<code>configuration</code>という名のルート要素を持っています。
オプションは要素名で書かれ、値は<code>value</code>(または<code>v</code>)l属性に保持されます。
<strong>--net-file test.next.xml</strong>というオプションは</p>
<h2 id="一般的なオプション">一般的なオプション<a class="headerlink" href="#一般的なオプション" title="Permanent link">&para;</a></h2>
<p>SUMOスイートのアプリケーションは以下に示すいくつかのオプションを共有しています。</p>
<h3 id="通知オプション">通知オプション<a class="headerlink" href="#通知オプション" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>-v <a href="/Basics/Notation/#データタイプ"><em>&lt;BOOL&gt;</em></a></strong> <br/> <strong>--verbose <a href="/Basics/Notation/#データタイプ"><em>&lt;BOOL&gt;</em></a></strong></td>
<td>冗長な出力に切りかえます<br/> デフォルト値: <strong>false</strong></td>
</tr>
<tr>
<td><strong>--print-options <a href="/Basics/Notation/#データタイプ"><em>&lt;BOOL&gt;</em></a></strong></td>
<td>処理前にオプションを出力します <br/> デフォルト値: <strong>false</strong></td>
</tr>
<tr>
<td><strong>-? <a href="/Basics/Notation/#データタイプ"><em>&lt;BOOL&gt;</em></a></strong> <br/> <strong>--help <a href="/Basics/Notation/#データタイプ"><em>&lt;BOOL&gt;</em></a></strong></td>
<td>画面にこの表の情報を出力します <br/> デフォルト値: <strong>false</strong></td>
</tr>
<tr>
<td><strong>-V </strong> <br/> <strong>--version </strong></td>
<td>バリデーションスキームを設定します("never", "auto" または "always") <br/> デフォルト値: <strong>auto</strong></td>
</tr>
</tbody>
</table>
<h3 id="乱数のオプション">乱数のオプション<a class="headerlink" href="#乱数のオプション" title="Permanent link">&para;</a></h3>
<p>これらのオプションは乱数生成器がどのシード値(seed)を使うかを設定します。
同じシード値からは同じ乱数列が生成されます。</p>
<table>
<thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>--seed <a href="/Basics/Notation/#データタイプ"><em>&lt;INT&gt;</em></a></strong></td>
<td>乱数生成器に特定のシード値を設定します。異なる値を使うことで結果が変わりますが、再現が可能になります。</td>
</tr>
<tr>
<td><strong>--random</strong></td>
<td>SUMOがシード値を選ぶようにします。設定されるとシード値は/dev/urandom の出力に従うかさもなければ現在のシステム時刻を使います。このオプションは<strong>--seed <a href="/Basics/Notation/#データタイプ"><em>&lt;INT&gt;</em></a></strong>オプションよりも<strong>優先</strong>されます。</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>: <strong>--random</strong>が<strong>--seed <a href="/Basics/Notation/#データタイプ"><em>&lt;INT&gt;</em></a></strong>より優先するとは、設定ファイルに書かれた<strong>--random</strong>をコマンドラインでの<strong>--seed <a href="/Basics/Notation/#データタイプ"><em>&lt;INT&gt;</em></a></strong>で上書きできないということを示します。
将来的にはこの問題への解決策が導入されるでしょう。</p>
<h2 id="ファイルの生成と読み込み">ファイルの生成と読み込み<a class="headerlink" href="#ファイルの生成と読み込み" title="Permanent link">&para;</a></h2>
<p>SUMOパッケージのほとんど全てのツールが、xmlファイルを読み込み/生成します。
SUMOを使い始める前に、<a href="https://ja.wikipedia.org/wiki/Extensible_Markup_Language">XML</a>に慣れておく必要があるでしょう。
SUMOは異なるソースからファイルをインポートすることができますが、「ネイティブな」SUMOファイル - 道路ネットワーク設定、道路かつ/または 交通需要の設定、インフラ設定等々 - はSUMO固有のものであり、いかなる標準にも従っていません。
XMLファイルは単純なテキストエディタで読み込み、編集ができ、私達(訳注: 本家Wiki編集者たち)もそのようにしています。
とはいえ、いくつか再利用されるツールも存在するでしょう。</p>
<p>SUMOで使用されるいくつかのファイルタイプについてはxsd(XML Scheme Definition: XMLスキーマ) が存在しています。
<a href="">ファイル拡張子</a>のページを参照してください。</p>
<h3 id="xml使用に関するヒント">XML使用に関するヒント<a class="headerlink" href="#xml使用に関するヒント" title="Permanent link">&para;</a></h3>
<ul>
<li>WindowsにおけるXMLファイルのデフォルトビューアはInternet Explorerです。
これはXMLファイルを</li>
<li><a href="https://www.eclipse.org/downloads/">Eclipse</a>はXMLを与えられた<a href="https://ja.wikipedia.org/wiki/XML_Schema">xsd(XML Schema Definition)</a>に従って書くことができます。</li>
</ul>
<div class="admonition note">
<p class="admonition-title">訳注</p>
<p>文中のリンクでダウンロードできるのはEclipseの英語版です。日本語版は<a href="http://mergedoc.osdn.jp/">Pleiades</a>からダウンロードできます。</p>
</div>
<h2 id="ファイルの書き込み">ファイルの書き込み<a class="headerlink" href="#ファイルの書き込み" title="Permanent link">&para;</a></h2>
<p>ファイル名<a href="/Basics/Notation/#データタイプ"><em>&lt;FILE&gt;</em></a>にはいくつかのオプションをパラメータとして与えることができます。
コマンドラインから与えられたパスは現在のワーキングディレクトリに対して相対パスと見なされます。
設定ファイルで与えられた時は、設定ファイルのある場所からの相対パスと見なされます。
絶対パスの指定ももちろん可能です。</p>
<p>一般に同じ名前のファイルが存在した場合には、警告なしに上書きされます。
また、出力ファイルの書き込まれるフォルダは(実行時に)存在している必要があります。</p>
<p>ファイルの書き込みについては、追加で以下の特別な記法が可能です</p>
<ul>
<li>nullデバイスへの書き込み(なにも出力しない): "NUL"か"/dev/null"をファイル名にしてください(どちらの書き方もプラットフォーム非依存で動きます)</li>
<li>ソケットへの書きこみ: "<code>&lt;HOST&gt;</code>:<code>&lt;PORT&gt;</code>"をファイル名にしてください</li>
<li>stdout(標準出力)への書きこみ(コマンドラインに書きだし): "stdout"または"-"をファイル名にしてください</li>
<li>stderrへの書き込み: "stdrr"をファイル名にしてください</li>
<li>ファイル名中の'TIME'文字列は特別で、アプリケーションが開始した時刻に置き換えられます</li>
</ul>
<p>今のところソケットや標準入力からの読みこみはできません。</p>
<p>出力ファイルの名前を変える簡単な方法として、オプション<strong>--output-prefix <code>&lt;STRING&gt;</code></strong>が提供されています。
設定すると、全てのファイルの先頭に指定された文字列が追加されます。</p>
<div class="admonition note">
<p class="admonition-title">注</p>
<p>同じ出力ファイルに複数のデータソース(例: 検知器の定義)から書き込むことも可能です</p>
</div>
<h2 id="pythonツールをコマンドラインから使う">Pythonツールをコマンドラインから使う<a class="headerlink" href="#pythonツールをコマンドラインから使う" title="Permanent link">&para;</a></h2>
<p>SUMOによって配布されている多くのツール(<strong><code>&lt;SUMO_HOME</code>&gt;</strong>/toolsフォルダ内)はプログラミング言語<a href="https://www.python.org/">python</a>で書かれています。
これらを使うには <strong>python2.7</strong>が<a href="https://www.python.org/downloads/">インストール</a>されている必要があります。</p>
<p>インストールしたら、<a href="">SUMO_HOME環境変数</a>が設定されていることを確認してください。
最も簡単なのは<a href="">start-command-line.bat</a>を使ってコマンドラインを開くことです。</p>
<p>さらに、コンピュータがあなたのpythonツールがどこにあるかを知っていることを確認する必要があります。
最も簡単(しかしやや扱いにくい) 方法はフルパスで起動することです。</p>
<pre><code>C:\Users\yourname&gt;D:\path_to_somo\tools\randomTrips.py  ... arguments ...
</code></pre>

<p>あるいは、ツールのあるディレクトリを<a href="">環境変数</a>に追加するという方法もあります。</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+", "search.placeholder": "\u691c\u7d22", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>