
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Networks/Import/VISUM/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>VISUM - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#import-coverage" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../.." title="SUMO wiki ja" class="md-header__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUMO wiki ja
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              VISUM
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  ドキュメント

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Downloads/" class="md-tabs__link">
        
  
  
    
  
  ダウンロード

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Publications/" class="md-tabs__link">
        
  
  
    
  
  出版物

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ドキュメント
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ダウンロード
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Publications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    出版物
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lane-number" class="md-nav__link">
    <span class="md-ellipsis">
      Lane Number
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-connectors" class="md-nav__link">
    <span class="md-ellipsis">
      Dealing with Connectors
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p><a href="../../../netconvert/">netconvert</a> can import native
<a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a>-network files.
Their extension is ".net". If you do not have a file with this
extension, but a ".ver"-file only, you have to generate the ".net"-file
using <a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> by exporting
it from the loaded version description (".ver"-file).</p>
<p>The option to load a
<a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> ".net"-file into
<a href="../../../netconvert/">netconvert</a> in order to convert it into a
SUMO-network is named <strong>--visum-file</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;FILE&gt;</em></a> or <strong>--visum</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;FILE&gt;</em></a> for short. So, the following call to
<a href="../../../netconvert/">netconvert</a> imports the road network stored in
"my_visum_net.net" and stores the SUMO-network generated from this
data into "my_sumo_net.net.xml":</p>
<pre><code>netconvert --visum my_visum_net.net -o my_sumo_net.net.xml
</code></pre>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If your network contains geo-coordinates (lon/lat) you must add option <strong>--proj.utm</strong> in order to project your network into the cartesian plane</p>
</div>
<h1 id="import-coverage">Import Coverage<a class="headerlink" href="#import-coverage" title="Permanent link">&para;</a></h1>
<p>The following table shows which information is parsed from a given VISUM
network.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The keywords within a VISUM file are localized. By default netconvert assumes LANGUAGE <strong>DEU</strong>. You can use option <strong>--visum.language-file</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;FILE&gt;</em></a> to read a language mapping from DEU into another language. Mapping files for can be found in the <code>SUMO_HOME/data/lang</code> folder.</p>
</div>
<p><strong>Information <a href="../../../netconvert/">netconvert</a> reads from VISUM
networks</strong></p>
<table>
<thead>
<tr>
<th>Table name</th>
<th>Imported attributes</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>VSYS</td>
<td>VSysCode (CODE)<br>VSysMode (TYP)</td>
<td>Traffic modes</td>
</tr>
<tr>
<td>STRECKENTYP</td>
<td>Nr<br>v0-IV (V0IV)<br>Rang<br>Kap-IV (KAPIV)</td>
<td>Edge types</td>
</tr>
<tr>
<td>KNOTEN</td>
<td>Nr<br>XKoord<br>YKoord</td>
<td>Nodes</td>
</tr>
<tr>
<td>BEZIRK</td>
<td>Nr<br>NAME (unused later)<br>Proz_Q<br>Proz_Z<br>XKoord<br>YKoord</td>
<td>Districts</td>
</tr>
<tr>
<td>STRECKE (STRECKEN)</td>
<td>Nr<br>VonKnot (VonKnotNr)<br>NachKnot (NachKnotNr)<br>Typ (TypNr)<br>Einbahn</td>
<td>Edges</td>
</tr>
<tr>
<td>ANBINDUNG</td>
<td>BezNr<br>KnotNr<br>Proz<br>t0-IV<br>Typ<br>Richtung</td>
<td>District connections</td>
</tr>
<tr>
<td>ABBIEGEBEZIEHUNG (ABBIEGER)</td>
<td>VonKnot (VonKnotNr)<br>UeberKnot (UeberKnotNr)<br>NachKnot (NachKnotNr)<br>VSysCode (VSYSSET)</td>
<td>Edge Connections</td>
</tr>
<tr>
<td>STRECKENPOLY</td>
<td>VonKnot (VonKnotNr)<br>NachKnot (NachKnotNr)<br>INDEX<br>XKoord<br>YKoord</td>
<td>Edge geometries</td>
</tr>
<tr>
<td>FAHRSTREIFEN</td>
<td>KNOTNR<br>STRNR<br>FSNR<br>RICHTTYP<br>LAENGE</td>
<td>Lane descriptions</td>
</tr>
<tr>
<td>LSA (SIGNALANLAGE)</td>
<td>Nr<br>Umlaufzeit (UMLZEIT)<br>StdZwischenzeit (STDZWZEIT)<br>PhasenBasiert</td>
<td>Traffic lights</td>
</tr>
<tr>
<td>KNOTENZULSA (SIGNALANLAGEZUKNOTEN)</td>
<td>KnotNr<br>LsaNr</td>
<td>Nodes-&gt;TLS</td>
</tr>
<tr>
<td>LSASIGNALGRUPPE (SIGNALGRUPPE)</td>
<td>Nr<br>LsaNr<br>GzStart (GRUENANF)<br>GzEnd (GRUENENDE)<br>GELB</td>
<td>Signal groups</td>
</tr>
<tr>
<td>ABBZULSASIGNALGRUPPE<br>(SIGNALGRUPPEZUABBIEGER)</td>
<td>SGNR (SIGNALGRUPPENNR)<br>LsaNr<br>VonKnot / VONSTRNR<br>NachKnot / NACHSTRNR<br>UeberKnot (UeberKnotNr)<br>LsaNr</td>
<td>Edge connections-&gt;TLS</td>
</tr>
<tr>
<td>LSAPHASE (PHASE)</td>
<td>Nr<br>LsaNr<br>GzStart (GRUENANF)<br>GzEnd (GRUENENDE)</td>
<td>Signal phases</td>
</tr>
<tr>
<td>LSASIGNALGRUPPEZULSAPHASE</td>
<td>PsNr<br>LsaNr<br>SGNR</td>
<td>Signal groups-&gt;phases</td>
</tr>
<tr>
<td>FAHRSTREIFENABBIEGER</td>
<td>KNOT (KNOTNR)<br>VONSTR (VONSTRNR)<br>NACHSTR (NACHSTRNR)<br>VONFSNR<br>NACHFSNR</td>
<td>Lane-to-lane descriptions</td>
</tr>
</tbody>
</table>
<p>Well, basically that's all for network import, isn't it? Well, actually
not. In the following, the basic possibilities and further advices and
tricks for working with these is described.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>"Rang" from "Streckentypen" is used as edge priority information. As streets with a lower "Rang" are normally higher priorised, an edge type's priority is computed as 100-Rang</p>
</div>
<h2 id="lane-number">Lane Number<a class="headerlink" href="#lane-number" title="Permanent link">&para;</a></h2>
<p><a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> does not work with
the lane numbers of streets, instead, the streets' capacities are used.
This means that under circumstances the information about the edges' lane
numbers are missing. Still, one can try to obtain the lane number from
the given edges' capacities. An approximation is:</p>
<pre><code>LANE_NUMBER = MAXIMUM_FLOW / CAPACITY_NORM
</code></pre>
<p>The value of CAPACITY_NORM is controlled via the option <strong>--capacity-norm</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;FLOAT&gt;</em></a> (default:
1800).</p>
<p>In the case the "<em>ANZFAHRSTREIFEN</em>" (lane numbers) field within the
net's "<em>STRECKEN</em>" (edges)-table is empty, and also the types do not
hold any information about the according edges' lane numbers, this
conversion is done automatically. Still, we also had
<a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> nets in our hands,
where a capacity was given, but the lane number field was set to 1 for
all edges. In this case, one has to force
<a href="../../../netconvert/">netconvert</a> to ignore the lane number attribute
and use the capacity. This is done by using the option
<strong>--visum.recompute-laneno</strong>.</p>
<h2 id="dealing-with-connectors">Dealing with Connectors<a class="headerlink" href="#dealing-with-connectors" title="Permanent link">&para;</a></h2>
<p><a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> as a macroscopic
tool, does not regard single vehicles. As one consequence,
<a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> uses "connections"
through which traffic is fed from the districts into the network.</p>
<p>The effects on using such connectors within a microscopic simulations
should be described at a different
page. Here, we want to show the
possibilities to change the connector attributes using
<a href="../../../netconvert/">netconvert</a>.</p>
<h1 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h1>
<p><a href="../../../netconvert/">netconvert</a> is able to guess some information
which is sometimes missing in imported networks. Below, you may find
links to further information of interest.</p>
<ul>
<li>Most <a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> networks
  do not contain definitions of traffic lights positions; Still,
  <a href="../../../netconvert/">netconvert</a> is able to <a href="../../../netconvert/#tls_building">guess tls
  positions</a> and to <a href="../../../netconvert/#tls_building">guess
  tls programs</a>.</li>
<li>Also, we have not seen a
  <a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> network where
  on- and off-ramps where available for highways.
  <a href="../../../netconvert/">netconvert</a> is able to <a href="../../../netconvert/#ramp_guessing">guess on- and
  off-ramps</a>.</li>
<li>In addition to the network, further descriptions of lane-to-lane or
  edge-to-edge connections may be read.</li>
</ul>
<p>Other possibilities of <a href="../../../netconvert/">netconvert</a>, such as
projection of geo-coordinates, should not apply when working with
<a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> networks.</p>
<h2 id="importing-other-data-from-visum">Importing other data from VISUM<a class="headerlink" href="#importing-other-data-from-visum" title="Permanent link">&para;</a></h2>
<p><a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">VISUM</a> uses O/D-matrices
as a demand descriptions. There is some further information on
<a href="../../../Demand/Importing_O/D_Matrices/">Demand/Importing O/D
Matrices</a>.</p>
<h1 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="https://www.ptvgroup.com/en/solutions/products/ptv-visum/">PTV AG's
  VISUM-page</a>
  (06.09.2011)</li>
</ul>
<h1 id="missing">Missing<a class="headerlink" href="#missing" title="Permanent link">&para;</a></h1>
<ul>
<li>Attributes of connectors</li>
<li>Importing POIs/Shapes</li>
<li>what is exactly imported (how edge attributes are determined)</li>
<li>other traffic modes</li>
<li>Network quality</li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>