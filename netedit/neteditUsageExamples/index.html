
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Netedit/neteditUsageExamples/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>neteditUsageExamples - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage-examples" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../.." title="SUMO wiki ja" class="md-header__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUMO wiki ja
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              neteditUsageExamples
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  ドキュメント

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Downloads/" class="md-tabs__link">
        
  
  
    
  
  ダウンロード

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Publications/" class="md-tabs__link">
        
  
  
    
  
  出版物

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ドキュメント
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ダウンロード
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Publications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    出版物
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reducing-the-extent-of-the-network" class="md-nav__link">
    <span class="md-ellipsis">
      Reducing the extent of the network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reducing the extent of the network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adapting-additional-objects-to-a-reduced-network" class="md-nav__link">
    <span class="md-ellipsis">
      Adapting additional objects to a reduced network
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-curved-roads" class="md-nav__link">
    <span class="md-ellipsis">
      Making curved roads
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-the-complete-geometry-of-an-edge-including-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying the complete geometry of an edge including endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifying the complete geometry of an edge including endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-set-geometry-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      Using 'Set geometry endpoint'
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entering-the-position-manually" class="md-nav__link">
    <span class="md-ellipsis">
      Entering the Position manually
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-join-selected-junctions" class="md-nav__link">
    <span class="md-ellipsis">
      Using 'Join Selected Junctions'
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restoring-edge-geometry-to-its-default-state" class="md-nav__link">
    <span class="md-ellipsis">
      Restoring edge geometry to its default state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-connection-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Setting connection attributes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-an-intersection-into-a-roundabout" class="md-nav__link">
    <span class="md-ellipsis">
      Converting an intersection into a roundabout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-a-roundabout-into-a-simple-intersection" class="md-nav__link">
    <span class="md-ellipsis">
      Converting a roundabout into a simple intersection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-an-intersection-into-a-roundabout-old-manual-method" class="md-nav__link">
    <span class="md-ellipsis">
      Converting an intersection into a roundabout (old manual method)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#correcting-road-access-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Correcting road access permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-all-traffic-lights-to-right_on_red" class="md-nav__link">
    <span class="md-ellipsis">
      Changing all traffic lights to right_on_red
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-joined-traffic-lights" class="md-nav__link">
    <span class="md-ellipsis">
      Creating joined traffic lights
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapting-visualization-settings-to-help-editing-complicated-intersections" class="md-nav__link">
    <span class="md-ellipsis">
      Adapting Visualization Settings to help editing complicated intersections
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-a-linear-referencing-scheme-kilometrage--mileage-chainage" class="md-nav__link">
    <span class="md-ellipsis">
      Defining a linear referencing scheme (kilometrage / mileage/ chainage)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-bidirectional-railway-tracks" class="md-nav__link">
    <span class="md-ellipsis">
      Creating bidirectional railway tracks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating bidirectional railway tracks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#make-an-existing-track-bidirectional" class="md-nav__link">
    <span class="md-ellipsis">
      Make an existing track bidirectional
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-bidirectional-tracks-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Creating bidirectional tracks from scratch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-rail-signals-that-only-affect-one-track-direction" class="md-nav__link">
    <span class="md-ellipsis">
      Define rail signals that only affect one track direction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-zipper-merge" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a zipper merge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simplify-tls-program-state-after-changing-connections" class="md-nav__link">
    <span class="md-ellipsis">
      Simplify TLS program state after changing connections
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deleting-all-sidewalks" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting all sidewalks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duplicating-rightmost-lane-on-all-edges" class="md-nav__link">
    <span class="md-ellipsis">
      Duplicating rightmost lane on all edges
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-a-two-way-left-turn-lane" class="md-nav__link">
    <span class="md-ellipsis">
      Building a Two-Way-Left-Turn-lane
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-pedestrian-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      Building Pedestrian infrastructure
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="usage-examples">Usage Examples<a class="headerlink" href="#usage-examples" title="Permanent link">&para;</a></h1>
<h2 id="reducing-the-extent-of-the-network">Reducing the extent of the network<a class="headerlink" href="#reducing-the-extent-of-the-network" title="Permanent link">&para;</a></h2>
<ol>
<li>switch to <a href="../editModesCommon/#select">selection mode</a></li>
<li>enable the <em>auto-select junctions</em> checkbox in the top menu bar (enabled by default since version 1.9.0)</li>
<li>select the portion of the network you wish to keep (i.e. by holding <em>&lt;SHIFT&gt;</em> and performing a rectangle-selection)</li>
<li>press the <em>Reduce</em> button</li>
</ol>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If the checkbox <em>auto-select junctions</em> is not set, and connections are not visible during the rectangle selection, all connections will be removed during the <em>invert+delete</em> steps.</p>
</div>
<h3 id="adapting-additional-objects-to-a-reduced-network">Adapting additional objects to a reduced network<a class="headerlink" href="#adapting-additional-objects-to-a-reduced-network" title="Permanent link">&para;</a></h3>
<p>Either</p>
<ul>
<li>load the additional file when cutting and then save the reduced additional file or</li>
<li>open the reduced network and load the original additional file. All objects outside the reduced network will be discarded with a warning.</li>
</ul>
<h2 id="making-curved-roads">Making curved roads<a class="headerlink" href="#making-curved-roads" title="Permanent link">&para;</a></h2>
<ol>
<li>switch to <a href="../editModesCommon/#select">selection mode</a></li>
<li>click on both directional edges once to select them</li>
<li>switch to <a href="../editModesCommon/#move">move mode</a></li>
<li>click and drag to add / change geometry points (affecting both edges at the same time)</li>
<li>(optionally) <a href="../neteditPopupFunctions/#smooth_edge">smooth both edges</a> at the same time</li>
</ol>
<h2 id="specifying-the-complete-geometry-of-an-edge-including-endpoints">Specifying the complete geometry of an edge including endpoints<a class="headerlink" href="#specifying-the-complete-geometry-of-an-edge-including-endpoints" title="Permanent link">&para;</a></h2>
<p>By default, the geometry of an edge starts with the position of the source junction and ends at the position of the destination junction. However, this sometimes leads to undesired junction shapes when dealing with roads that have a large green median strip or when modeling edges that meet at a sharp angle such as highway ramps. Also, when edges in opposite directions have unequal number of lanes (i.e. due to added left-turn lanes) and the road shapes do not line up. The solution is to define an edge geometry with custom endpoints. Below are three alternative methods of accomplishing this.</p>
<h3 id="using-set-geometry-endpoint">Using 'Set geometry endpoint'<a class="headerlink" href="#using-set-geometry-endpoint" title="Permanent link">&para;</a></h3>
<ol>
<li>switch to <a href="../editModesCommon/#move">move mode</a></li>
<li>shift-click near the start or the end of the edge to create/remove a custom geometry endpoint (marked with 'S' at the start and 'E' and the end).</li>
<li>once create these special geometry points can be moved around like normal geometry points</li>
</ol>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>When right-clicking the geometry point the click must be within the edge shape for this too work.</p>
</div>
<p>Afterwards, you will have to recompute the junction shape to see how it looks (F5). If you want to modify the edge and its reverse edge at once this works almost the same way:</p>
<ol>
<li>switch to <a href="../editModesCommon/#select">select mode</a></li>
<li>select both edges</li>
<li>switch to <a href="../editModesCommon/#move">move mode</a></li>
<li>create/move geometry points for that edge</li>
<li>create new geometry points where the endpoints of the edge should be</li>
<li>switch to <a href="../editModesCommon/#select">select mode</a></li>
<li>deselect both edges</li>
<li>right-click on the new endpoints and select Set geometry endpoint here twice (once for each edge)</li>
</ol>
<h3 id="entering-the-position-manually">Entering the Position manually<a class="headerlink" href="#entering-the-position-manually" title="Permanent link">&para;</a></h3>
<ol>
<li>switch to <a href="../editModesCommon/#inspect">inspect mode</a></li>
<li>click on the edge that shall be modified</li>
<li>enter new values for attributes <em>shapeStart</em> or <em>shapeEnd</em></li>
</ol>
<h3 id="using-join-selected-junctions">Using 'Join Selected Junctions'<a class="headerlink" href="#using-join-selected-junctions" title="Permanent link">&para;</a></h3>
<ol>
<li>create new junctions where the endpoints of the edge should be</li>
<li>Either split an existing edge (right-click and select <em>Split edge here</em>)</li>
<li>Or <a href="../editModesNetwork/#create_edges">create a new edge with new junctions in create-edge mode</a></li>
<li>switch to <a href="../editModesCommon/#select">select mode</a></li>
<li>select the original junction and the new junction near it</li>
<li>Menu <em>Processing -&gt; Join Selected Junctions</em> (<kbd>F7</kbd>)</li>
</ol>
<p>This will create a single joined junction but keep the endpoints at the original junction positions.</p>
<h3 id="restoring-edge-geometry-to-its-default-state">Restoring edge geometry to its default state<a class="headerlink" href="#restoring-edge-geometry-to-its-default-state" title="Permanent link">&para;</a></h3>
<p>The reverse operation to <em>Setting a custom geometry endpoint</em> as explained above is <em>Restoring the geometry endpoint</em> and it may be accomplished in any of the following ways:</p>
<ul>
<li>delete the edge attributes <code>shapeStart</code> and <code>shapeEnd</code></li>
<li>right-click on an edge and from the <em>edge operations</em> menu select <em>Restore geometry endpoint</em> (this only restores the end near the click)</li>
<li>right-click on an edge and select <em>Reset edge endpoints</em></li>
<li>In move-mode, shift-click on a custom endpoint (a geometry point marked with <code>S</code> or <code>E</code>)</li>
</ul>
<h2 id="setting-connection-attributes">Setting connection attributes<a class="headerlink" href="#setting-connection-attributes" title="Permanent link">&para;</a></h2>
<ol>
<li>after opening the network press F5 to compute connection objects</li>
<li>in inspect-mode enable the <em>Show Connections</em> checkbox in the menu bar</li>
<li>click on a connection to inspect it and edit its attributes</li>
</ol>
<h2 id="converting-an-intersection-into-a-roundabout">Converting an intersection into a roundabout<a class="headerlink" href="#converting-an-intersection-into-a-roundabout" title="Permanent link">&para;</a></h2>
<ol>
<li>set junction attribute 'radius' to the desired roundabout radius</li>
<li>right-click on junction and select 'Convert to roundabout'</li>
</ol>
<h2 id="converting-a-roundabout-into-a-simple-intersection">Converting a roundabout into a simple intersection<a class="headerlink" href="#converting-a-roundabout-into-a-simple-intersection" title="Permanent link">&para;</a></h2>
<ol>
<li>select all junctions that are part of the roundabout</li>
<li>join selected junctions (<kbd>F7</kbd>)</li>
<li>select all edges that connected to the joined intersection</li>
<li>right-click selection and select 'edge operations'-&gt;'restore geometry endpoints'</li>
</ol>
<h2 id="converting-an-intersection-into-a-roundabout-old-manual-method">Converting an intersection into a roundabout (old manual method)<a class="headerlink" href="#converting-an-intersection-into-a-roundabout-old-manual-method" title="Permanent link">&para;</a></h2>
<ol>
<li>For each of the 'legs' of the intersection do a right click and select 'split edges in both directions' at some distance from the
    intersection (this will be the radius of the roundabout)</li>
<li>Delete the central intersection</li>
<li>Connect the new intersections with one-way roads going in a circle</li>
<li>Tweak the geometry of the roundabout by creating additional geometry points in <a href="../editModesCommon/#move">move mode</a> to make it more rounded.
    You can also use the function 'smooth edge' from the edge context menu.</li>
<li>Check for correct right of way (the inside edge should have priority over the entering edges). This should work by default but may fail if the shape of the roundabout is not 'round' enough. Either correct the geometry or assign a higher priority value to the roundabout roads (compared to the adjoining roads)</li>
</ol>
<p>Assuming you have a regular intersection</p>
<ul>
<li><strong>Visual example</strong></li>
</ul>
<p><img alt="" src="../../images/RoundAbout1.png" />We have a intersection (Junction) with four edges.
<img alt="" src="../../images/RoundAbout2.png" />Split edges in both direction in every edge to create new junctions.</p>
<p><img alt="" src="../../images/RoundAbout3.png" />Intersection with the new junctions.
<img alt="" src="../../images/RoundAbout4.png" />Remove central Junction.</p>
<p><img alt="" src="../../images/RoundAbout5.png" />Connect new junctions circularly.
<img alt="" src="../../images/RoundAbout6.png" />Move shape of new edges to obtain a circular shape.</p>
<p><img alt="" src="../../images/RoundAbout7.png" />Roundabout in Simulator.</p>
<h2 id="correcting-road-access-permissions">Correcting <a href="../../Simulation/VehiclePermissions/">road access permissions</a><a class="headerlink" href="#correcting-road-access-permissions" title="Permanent link">&para;</a></h2>
<p>In this example we wish to modify a multi-modal road network (i.e. imported from <a href="../../Networks/Import/OpenStreetMap/">OpenStreetMap</a>) in the following way: <strong>All dedicated bus lanes should allow bicycle access</strong>.</p>
<ol>
<li>in <em>select-mode</em>, use the Match Attribute panel to select all <strong>Lanes</strong> with attribute <strong>allow</strong> that match the string <strong>=bus</strong> (the '=' forces exact matches). All dedicated bus lanes are now selected</li>
<li>in <em>inspect-mode</em>, click on one of the selected lanes and modify the allow attribute from <em>bus</em> to <em>bus bicycle</em></li>
</ol>
<h2 id="changing-all-traffic-lights-to-right_on_red">Changing all traffic lights to <em>right_on_red</em><a class="headerlink" href="#changing-all-traffic-lights-to-right_on_red" title="Permanent link">&para;</a></h2>
<ol>
<li>in <em>select-mode</em>, use the Match Attribute panel to select all <strong>Junctions</strong> with attribute <strong>type</strong> that match the string <strong>traffic_light</strong></li>
<li>in <em>inspect-mode</em>, click on one of the selected junctions and set the type attribute to <em>right_on_red</em></li>
</ol>
<h2 id="creating-joined-traffic-lights">Creating joined traffic lights<a class="headerlink" href="#creating-joined-traffic-lights" title="Permanent link">&para;</a></h2>
<ol>
<li>make sure all junctions that shall be jointly controlled are of type <em>traffic_light</em></li>
<li>(optionally) select all of the above junctions</li>
<li>use inspect mode to set the same value for the 'tl' attribute of all junctions that shall be jointly controlled (if the junctions are selected, you can set the 'tl' value for all of them at the same time, otherwise you must set the value individually)</li>
</ol>
<h2 id="adapting-visualization-settings-to-help-editing-complicated-intersections">Adapting Visualization Settings to help editing complicated intersections<a class="headerlink" href="#adapting-visualization-settings-to-help-editing-complicated-intersections" title="Permanent link">&para;</a></h2>
<p>Editing complex intersection clusters with many short edges can be difficult with the default visualization settings. The following
settings may help</p>
<ul>
<li>Junction settings</li>
<li>lower value for <em>exaggerate by</em> (junction shapes drawn with reduced size)</li>
<li>deactivate <em>draw junction shapes</em> (alternatively to reduced size, do not draw junction shapes at all)</li>
<li>color <em>by selection</em></li>
<li>Streets</li>
<li>lower value for <em>exaggerate by</em> (draw thin edges)</li>
<li>deactivate <em>show right of way rules</em> (to avoid hiding short edges)</li>
<li>color <em>by selection</em></li>
</ul>
<p>When setting coloring to <em>by selection</em> it may also help to modify transparency for selected or unselected edges.</p>
<h2 id="defining-a-linear-referencing-scheme-kilometrage--mileage-chainage">Defining a linear referencing scheme <a href="../../Simulation/Railways/#kilometrage_mileage_chainage">(kilometrage / mileage/ chainage)</a><a class="headerlink" href="#defining-a-linear-referencing-scheme-kilometrage--mileage-chainage" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="../editModesDemand/#route_mode">Define a route</a> through your network along which you want to define kilometrage (in forward direction)</li>
<li>(optional) Use inspect mode to et the initial distance value of the first edge of the route (default 0)
3) Right click the route element (in demand mode) and select 'Apply distance along route'</li>
</ol>
<h2 id="creating-bidirectional-railway-tracks">Creating <a href="../../Simulation/Railways/">bidirectional railway tracks</a><a class="headerlink" href="#creating-bidirectional-railway-tracks" title="Permanent link">&para;</a></h2>
<h3 id="make-an-existing-track-bidirectional">Make an existing track bidirectional<a class="headerlink" href="#make-an-existing-track-bidirectional" title="Permanent link">&para;</a></h3>
<p>Using <a href="../../Simulation/Railways/#working_with_bidirectional_tracks_in_netedit">visualization options or attribute selection</a> you can check whether an existing railway track can be used in both
directions. To make a unidirectional track usable in both directions,</p>
<ol>
<li>set the edge attribute <em>spreadType</em> to the value <em>center</em> (in many cases this value is already set as it is the default value when
    importing tracks).</li>
<li>right-click the edge and select <em>edge operations-&gt;add reverse direction for edge</em></li>
</ol>
<h3 id="creating-bidirectional-tracks-from-scratch">Creating bidirectional tracks from scratch<a class="headerlink" href="#creating-bidirectional-tracks-from-scratch" title="Permanent link">&para;</a></h3>
<ol>
<li>use <a href="../editModesNetwork/#create_edges">Create Edges</a> to create an edge</li>
<li>use <a href="../editModesCommon/#inspect">Inspect</a> to set the edge attribute <em>allow</em> to <em>rail</em> (or a combination of one or more railway vehicle classes)</li>
<li>set edge attribute <em>spreadType</em> to <em>center</em></li>
<li>set the new edge as <a href="../editModesCommon/#edge_template">Edge template</a></li>
<li>make the edge bidirectional as explained above in <a href="#make_an_existing_track_bidirectional">Make an existing track bidirectional</a></li>
<li>in <a href="../editModesNetwork/#create_edges">Create Edges</a>, set the checkbox to <em>Two-way</em> and optionally to <em>Chain</em></li>
<li>continue to create edges - each click will create bidirectional track</li>
</ol>
<h2 id="define-rail-signals-that-only-affect-one-track-direction">Define rail signals that only affect one track direction<a class="headerlink" href="#define-rail-signals-that-only-affect-one-track-direction" title="Permanent link">&para;</a></h2>
<p>If a piece of railway track is <a href="#creating_bidirectional_railway_tracks">modelled for train operations in both directions</a>, any rail signal defined on this <em>bidi</em>-track will affect both direction of travel by default.
To change this, the following steps have to be taken:</p>
<ol>
<li>ensure that <a href="../../Simulation/Railways/#working_with_bidirectional_tracks_in_netedit">edges for both directions of travel are visible</a></li>
<li><a href="#setting_connection_attributes">set connection attribute</a> <code>uncontrolled=True</code> for the connection that shall not be controlled</li>
</ol>
<h2 id="creating-a-zipper-merge">Creating a zipper merge<a class="headerlink" href="#creating-a-zipper-merge" title="Permanent link">&para;</a></h2>
<ol>
<li>use inspect mode to set junction type to 'zipper'.</li>
<li>use connection mode to add 2 connections which enter the zipper junction with the same target lane. The second connection must be created with <kbd>Ctrl</kbd> + <kbd>click</kbd> to override conflict protection.</li>
<li>optionally: use inspect mode and enable 'show connections' (<kbd>Alt</kbd> + <kbd>5</kbd>). Click on the zipper connections (brown) and customize 'visibilityDistance' to set the range where vehicles start zipper merging.</li>
</ol>
<p><img alt="" src="../../images/neteditZipper.png" /></p>
<h2 id="simplify-tls-program-state-after-changing-connections">Simplify TLS program state after changing connections<a class="headerlink" href="#simplify-tls-program-state-after-changing-connections" title="Permanent link">&para;</a></h2>
<p>After deleting connections at a junction of type traffic_light, the traffic light program will remain unchanged by default.
This stability implies that the length of the phase state may be longer than needed and the list of used can contain gaps (where the unused states are).
To clean up the states:</p>
<ol>
<li>enter traffic light mode (<kbd>T</kbd>)</li>
<li>click on the junction</li>
<li>press the 'Clean States' button (this shortens the state and re-assigns indices to controlled connections)</li>
<li>save the program</li>
<li>recompute the network (<kbd>F5</kbd>) to see updated tls indices (when inspecting connections or drawing 'tls link index')</li>
</ol>
<h2 id="deleting-all-sidewalks">Deleting all sidewalks<a class="headerlink" href="#deleting-all-sidewalks" title="Permanent link">&para;</a></h2>
<ol>
<li>enter select mode (S)</li>
<li>in the <a href="../editModesCommon/#match_attribute">Match Attribute</a> controls select:</li>
<li>Object type: Lane</li>
<li>Attribute: allow</li>
<li>Value: "=pedestrian"</li>
<li>press the <kbd>del</kbd> key</li>
</ol>
<h2 id="duplicating-rightmost-lane-on-all-edges">Duplicating rightmost lane on all edges<a class="headerlink" href="#duplicating-rightmost-lane-on-all-edges" title="Permanent link">&para;</a></h2>
<p>There are several solutions. The first one is as follows:</p>
<ol>
<li>toggle selection to work on lanes by default rather than edges (press Alt+5 when in select mode)</li>
<li>select the desired lanes</li>
<li>apply duplication by right clicking and going into lane operations</li>
</ol>
<p>The second solution is as follows:</p>
<ol>
<li>select the desired edges and go to the selection mode</li>
<li>in selection panel on the left click: 'select children'</li>
<li>toggle selection modification mode to 'keep'</li>
<li>select lanes by attribute index=0 then apply selection</li>
<li>apply duplication by right clicking and going into lane operations</li>
</ol>
<p>There is also another solution in case you want to add special lanes to your edges:</p>
<ol>
<li>select edges with the help of the select mode</li>
<li>after right clicking use lane operation 'add restricted lane'</li>
</ol>
<h2 id="building-a-two-way-left-turn-lane">Building a <a href="https://en.wikipedia.org/wiki/Reversible_lane#Turn_lanes_and_flush_medians">Two-Way-Left-Turn-lane</a><a class="headerlink" href="#building-a-two-way-left-turn-lane" title="Permanent link">&para;</a></h2>
<ol>
<li>create a network with two lanes in each direction (on the road that should have a TWLT)</li>
<li>select all edges that belong to that road using <em>select mode</em></li>
<li>switch to <em>move mode</em>, enter the value of -1.6 in the 'shift value' input field and press 'Apply shift value' (or hit <kbd>enter</kbd>)</li>
<li>explanation: This makes it so that the inside lanes in both directions are directly on top of each other</li>
<li>go to inspect mode and inspect the selection of edges</li>
<li>activate the 'isBidi' checkbox</li>
</ol>
<h2 id="building-pedestrian-infrastructure">Building Pedestrian infrastructure<a class="headerlink" href="#building-pedestrian-infrastructure" title="Permanent link">&para;</a></h2>
<p>In order to <a href="../../Simulation/Pedestrians/">simulate pedestrians</a>, the network needs sidewalks (or footpaths), walkingareas and it will usually contain pedestrian crossings.
For pedestrian simulation to work, every lane of the network that is not meant for a shared-space simulation, should either disallow road vehicles or disallow pedestrian use.
Prohibiting pedestrians from walking on the road can be accomplished using the 'allow' attribute of lanes but will happen automatically when either</p>
<ul>
<li>edges are created and the 'add Sidwalk' option is active</li>
<li>edges are created with a custom 'allow' value (i.e. 'pedestrian' or 'passenger')</li>
<li>edge context menu function 'Lane operations/Add restricted Lane/Sidwealk' is applied to an edge or a selection of edges  </li>
</ul>
<p>Crossings can be created with 'crossing mode' by clicking on a junction and then clicking on one or more edges to be crossed and confirming with <kbd>ENTER</kbd></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Crossings can only be created if the edges to be crossed have lanes that prohibit pedestrian use</p>
</div>
<p>Walkingareas are created automatically if the network contains at least one pedestrian crossing or if option <strong>walkingareas</strong> is set in the options screen (<kd>F10</kbd>, in the Pedestrians tab).
They will be created wherever footpaths or sidewalks are bordered by lanes that prohibit pedestrian use.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>