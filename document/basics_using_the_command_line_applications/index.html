<!doctype html><html lang="ja" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="lang:clipboard.copy" content="クリップボードへコピー"><meta name="lang:clipboard.copied" content="コピーしました"><meta name="lang:search.language" content="ja"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="何も見つかりませんでした"><meta name="lang:search.result.one" content="1件見つかりました"><meta name="lang:search.result.other" content="#件見つかりました"><meta name="lang:search.tokenizer" content="[\s\-　、。，．]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>コマンドラインアプリケーション - SUMO wiki ja</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../css/extra.css"><link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "None", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr"><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#コマンドラインの使いかた" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="../.." title="SUMO wiki ja" class="md-header-nav__button md-logo"><img src="../../img/MediaWikiSidebarLogo.png" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">SUMO wiki ja</span><span class="md-header-nav__topic">コマンドラインアプリケーション</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">検索キーワードを入力してください</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="../.." title="SUMO wiki ja" class="md-nav__button md-logo"><img src="../../img/MediaWikiSidebarLogo.png" width="48" height="48"></a>SUMO wiki ja</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="トップ" class="md-nav__link">トップ</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked><label class="md-nav__link" for="nav-2">ドキュメント</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">ドキュメント</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../user_doc/" title="概要" class="md-nav__link">概要</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2"><label class="md-nav__link" for="nav-2-2">イントロダクション</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-2-2">イントロダクション</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../sumo_at_a_glance/" title="SUMO早分かり" class="md-nav__link">SUMO早分かり</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked><label class="md-nav__link" for="nav-2-3">基本的な使い方</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-2-3">基本的な使い方</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../basics_notation/" title="ドキュメントでの記法" class="md-nav__link">ドキュメントでの記法</a></li><li class="md-nav__item"><a href="../basics_basic_computer_skills/" title="基本的なコンピュータスキル" class="md-nav__link">基本的なコンピュータスキル</a></li><li class="md-nav__item"><a href="../tutrials/" title="チュートリアル" class="md-nav__link">チュートリアル</a></li><li class="md-nav__item"><a href="../install/" title="インストール" class="md-nav__link">インストール</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">コマンドラインアプリケーション</label><a href="./" title="コマンドラインアプリケーション" class="md-nav__link md-nav__link--active">コマンドラインアプリケーション</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">目次</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#コマンドラインからsumoアプリケーションを使う" title="コマンドラインからSUMOアプリケーションを使う" class="md-nav__link">コマンドラインからSUMOアプリケーションを使う</a></li><li class="md-nav__item"><a href="#オプション" title="オプション" class="md-nav__link">オプション</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#コマンドラインでのオプション設定" title="コマンドラインでのオプション設定" class="md-nav__link">コマンドラインでのオプション設定</a></li><li class="md-nav__item"><a href="#オプションの値の型" title="オプションの値の型" class="md-nav__link">オプションの値の型</a></li><li class="md-nav__item"><a href="#構造ファイル" title="構造ファイル" class="md-nav__link">構造ファイル</a></li></ul></nav></li><li class="md-nav__item"><a href="#ファイルの生成と読み込み" title="ファイルの生成と読み込み" class="md-nav__link">ファイルの生成と読み込み</a></li><li class="md-nav__item"><a href="#ファイルの書き込み" title="ファイルの書き込み" class="md-nav__link">ファイルの書き込み</a></li><li class="md-nav__item"><a href="#pythonツールをコマンドラインから使う" title="Pythonツールをコマンドラインから使う" class="md-nav__link">Pythonツールをコマンドラインから使う</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4"><label class="md-nav__link" for="nav-2-4">理論</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-2-4">理論</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../theory_traffic_simulations/" title="交通シミュレーション理論" class="md-nav__link">交通シミュレーション理論</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../../download/" title="ダウンロード" class="md-nav__link">ダウンロード</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">目次</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#コマンドラインからsumoアプリケーションを使う" title="コマンドラインからSUMOアプリケーションを使う" class="md-nav__link">コマンドラインからSUMOアプリケーションを使う</a></li><li class="md-nav__item"><a href="#オプション" title="オプション" class="md-nav__link">オプション</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#コマンドラインでのオプション設定" title="コマンドラインでのオプション設定" class="md-nav__link">コマンドラインでのオプション設定</a></li><li class="md-nav__item"><a href="#オプションの値の型" title="オプションの値の型" class="md-nav__link">オプションの値の型</a></li><li class="md-nav__item"><a href="#構造ファイル" title="構造ファイル" class="md-nav__link">構造ファイル</a></li></ul></nav></li><li class="md-nav__item"><a href="#ファイルの生成と読み込み" title="ファイルの生成と読み込み" class="md-nav__link">ファイルの生成と読み込み</a></li><li class="md-nav__item"><a href="#ファイルの書き込み" title="ファイルの書き込み" class="md-nav__link">ファイルの書き込み</a></li><li class="md-nav__item"><a href="#pythonツールをコマンドラインから使う" title="Pythonツールをコマンドラインから使う" class="md-nav__link">Pythonツールをコマンドラインから使う</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="コマンドラインの使いかた">コマンドラインの使いかた<a class="headerlink" href="#コマンドラインの使いかた" title="Permanent link">&para;</a></h1>
<p><a href="https://sumo.dlr.de/wiki/Basics/Using_the_Command_Line_Applications">原文ページ</a></p>
<p>SUMOパッケージの多くのアプリケーションはコマンドラインツールです。
現在<a href="">SUMO-GUI</a>のみが例外です。
「コマンドライン」がなにかわからない場合は、<a href="">基本的なコンピュータスキル</a>を参照してください。</p>
<h2 id="コマンドラインからsumoアプリケーションを使う">コマンドラインからSUMOアプリケーションを使う<a class="headerlink" href="#コマンドラインからsumoアプリケーションを使う" title="Permanent link">&para;</a></h2>
<p>SUMOアプリケーションは単純な実行可能ファイルです。
コマンドラインに名前を打ちこむことで使うことができます。
例えば<a href="">NETGENERATE</a>なら</p>
<pre><code>netgenerate.ext
</code></pre>

<p>とすることでWindowsで</p>
<pre><code>netgenerate
</code></pre>

<p>とすることでLinuxで起動することができます。</p>
<p>これだけでアプリケーション(この場合は<a href="">NETGENERATE</a>)が起動します。
なんのパラメータも与えられていないので、アプリケーションはやるべきことがわからないため、自分自身に関する情報のみを出力します。</p>
<pre><code>SUMO netgenerate Version 1.2.0
 Build features: Linux-4.1.39-56-default Proj GDAL GUI
 Copyright (C) 2001-2017 DLR and contributors; http://sumo.dlr.de
 License EPLv2: Eclipse Public License Version 2 &lt;https://eclipse.org/legal/epl-v20.html&gt;
 Use --help to get the list of options.
</code></pre>

<h2 id="オプション">オプション<a class="headerlink" href="#オプション" title="Permanent link">&para;</a></h2>
<p>アプリケーションごとにどのファイルが処理/生成されるかのオプションがあります。
通常、アプリケーションは最低二つのパラメータ -入力ファイルと出力ファイル- を必要としますが、きめ細かな制御のためにはほぼ常により多くのパラメータが使用されます。
アプリケーションごとのオプションについてはそのアプリケーションの説明に書かれています。
ここでは、オプションをどのように設定するかを示します。</p>
<h3 id="コマンドラインでのオプション設定">コマンドラインでのオプション設定<a class="headerlink" href="#コマンドラインでのオプション設定" title="Permanent link">&para;</a></h3>
<p>オプションには2種類あります。
引数を必要とせず指定されると「真」に設定される真偽値オプション(引数として"true"、"false"のような真偽値が指定されればその値になります)と、引数を必要とするオプションです。
コマンドラインでの引数付きオプションの設定はオプションの名前と値の二つに分かれます。
例として、シミュレーションで"mynet.net.xml"というロードネットワークを読みこむ場合、次のように書けます。</p>
<pre><code>--net mynet.net.xml
</code></pre>

<p>先頭の'--'は、オプションの長い名前("net")が来ることを示しています。
空白のあとにはオプションの値を与える必要があります。l
空白のかわりに'='を使うこともできます。</p>
<pre><code>--net=mynet.net.xml
</code></pre>

<p>いくつかのよく使われるオプションについては、短縮表記することが可能です。
<strong>--net</strong>オプションの短縮表記は<strong>-n</strong>です。
下の表記は上二つと全く同じ動きをします。</p>
<pre><code>-n mynet.net.xml
</code></pre>

<p>短縮表記では一つの'-'を使うことに注意してください。</p>
<div class="admonition note">
<p class="admonition-title">注</p>
<p>SUMOソフト群のなかで、全ての短縮表記が常に同じ意味を示すわけではありません。</p>
</div>
<h3 id="オプションの値の型">オプションの値の型<a class="headerlink" href="#オプションの値の型" title="Permanent link">&para;</a></h3>
<p>SUMOアプリケーションは、どんな種類の値が設定されるべきか知っています。
例えば、<a href="">NETGENERATE</a>は標準の車線幅を決めることができ、これは整数値でなければいけません。
この時に文字列やその他の値が与えられると、</p>
<h3 id="構造ファイル">構造ファイル<a class="headerlink" href="#構造ファイル" title="Permanent link">&para;</a></h3>
<p>オプションのリストがとても長くなってしまうことがあるため、設定ファイルが導入されました。
アプリケーション開始時に必要な全てのパラメータを含んだ設定ファイルを作ることができます。</p>
<h2 id="ファイルの生成と読み込み">ファイルの生成と読み込み<a class="headerlink" href="#ファイルの生成と読み込み" title="Permanent link">&para;</a></h2>
<p>SUMOパッケージのほとんど全てのツールが、xmlファイルを読み込み/生成します。
SUMOを使い始める前に、<a href="https://ja.wikipedia.org/wiki/Extensible_Markup_Language">XML</a>に慣れておく必要があるでしょう。
SUMOは異なるソースからファイルをインポートすることができますが、「ネイティブな」SUMOファイル - 道路ネットワーク設定、道路かつ/または 交通需要の設定、インフラ設定等々 - はSUMO固有のものであり、いかなる標準にも従っていません。
XMLファイルは単純なテキストエディタで読み込み、編集ができ、私達(訳注: 本家Wiki編集者たち)もそのようにしています。</p>
<h2 id="ファイルの書き込み">ファイルの書き込み<a class="headerlink" href="#ファイルの書き込み" title="Permanent link">&para;</a></h2>
<p>ファイル名(<code>&lt;FILE&gt;</code>)にはいくつかのオプションをパラメータとして与えることができます。
コマンドラインから与えられたパスは現在のワーキングディレクトリに対して相対パスと見なされます。
設定ファイルで与えられた時は、設定ファイルのある場所からの相対パスと見なされます。
絶対パスの指定ももちろん可能です。</p>
<p>一般に同じ名前のファイルが存在した場合には、警告なしに上書きされます。
また、出力ファイルの書き込まれるフォルダは(実行時に)存在している必要があります。</p>
<p>ファイルの書き込みについては、追加で以下の特別な記法が可能です</p>
<ul>
<li>nullデバイスへの書き込み(なにも出力しない): "NUL"か"/dev/null"をファイル名にしてください(どちらの書き方もプラットフォーム非依存で動きます)</li>
<li>ソケットへの書きこみ: "<code>&lt;HOST&gt;</code>:<code>&lt;PORT&gt;</code>"をファイル名にしてください</li>
<li>stdout(標準出力)への書きこみ(コマンドラインに書きだし): "stdout"または"-"をファイル名にしてください</li>
<li>stderrへの書き込み: "stdrr"をファイル名にしてください</li>
<li>ファイル名中の'TIME'文字列は特別で、アプリケーションが開始した時刻に置き換えられます</li>
</ul>
<p>今のところソケットや標準入力からの読みこみはできません。</p>
<p>出力ファイルの名前を変える簡単な方法として、オプション<strong>--output-prefix <code>&lt;STRING&gt;</code></strong>が提供されています。
設定すると、全てのファイルの先頭に指定された文字列が追加されます。</p>
<div class="admonition note">
<p class="admonition-title">注</p>
<p>同じ出力ファイルに複数のデータソース(例: 検知器の定義)から書き込むことも可能です</p>
</div>
<h2 id="pythonツールをコマンドラインから使う">Pythonツールをコマンドラインから使う<a class="headerlink" href="#pythonツールをコマンドラインから使う" title="Permanent link">&para;</a></h2>
<p>SUMOによって配布されている多くのツール(<strong><code>&lt;SUMO_HOME</code>&gt;</strong>/toolsフォルダ内)はプログラミング言語<a href="https://www.python.org/">python</a>で書かれています。
これらを使うには <strong>python2.7</strong>が<a href="https://www.python.org/downloads/">インストール</a>されている必要があります。</p>
<p>インストールしたら、<a href="">SUMO_HOME環境変数</a>が設定されていることを確認してください。
最も簡単なのは<a href="">start-command-line.bat</a>を使ってコマンドラインを開くことです。</p>
<p>さらに、コンピュータがあなたのpythonツールがどこにあるかを知っていることを確認する必要があります。
最も簡単(しかしやや扱いにくい) 方法はフルパスで起動することです。</p>
<pre><code>C:\Users\yourname&gt;D:\path_to_somo\tools\randomTrips.py  ... arguments ...
</code></pre>

<p>あるいは、ツールのあるディレクトリを<a href="">環境変数</a>に追加するという方法もあります。</p></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../install/" title="インストール" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">前</span>インストール</span></div></a><a href="../theory_traffic_simulations/" title="交通シミュレーション理論" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">次</span>交通シミュレーション理論</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script><script src="../../assets/javascripts/lunr/tinyseg.js"></script><script src="../../assets/javascripts/lunr/lunr.ja.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>