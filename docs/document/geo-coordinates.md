# 地理座標

[原文ページ](https://sumo.dlr.de/wiki/Geo-Coordinates)

## 地理関係ネットワーク

SUMOネットワークは常に直行座標系(メートル単位)でエンコードされ、緯度経度への変換を可能とするために地理情報を含んでいることがあります。
デフォルトでは直行座標系はネットワークの左下が0,0になるようにシフトしたUTM-projectionを使います。

!!! note "注"
    投影に関する情報は*.net.xml*ファイルの先頭にある`<location>`要素にエンコードされています。

* [OSM]()からネットワークをインポートすると、地理参照は生成された*.net.xml*ファイルに自動的に含まれます
* [平易なxmlファイル]からネットワークをインポートすると、座標は緯度と経度で与えられ、**--proj.utm**のような投影オプションを使ってインポートされます
* シェープファイルからネットワークを読みこんだ場合は、地理参照は元となったデータのフォーマットに依存します

## 地理座標のチェック

[SUMO-GUI]()において地理参照ネットワークではどこでも、右クリックすることでオプション*copy*から*geo-position to clipboard*が可能です。
*緯度*、*経度*座標の結果は[maps.google.com]や[map.bing.com]のようなマップエンジンにペーストするのに適しています。
また、地理座標と同じようにマウスカーソルの位置のネットワーク座標もウィンドウ右下に表示されています。

## 座標変換

* [TraCI]()を使うことで、地理座標をネットワーク座標(m,m)と地理座標(緯度、経度)の間で相互に変換することができます。
* [sumolib]()でも同じことが可能です。

## 地理座標付き出力の取得

* netconvertコマンドを使うことでネットワークを地理座標付き*プレーンxml*でエクスポートすることができます。

```
netconvert --sumo-net-file myNet.net.xml --plain-output-prefix plain --proj.plain-geo
```

* [FCD出力]()では**--fcd-output.geo**オプションを付けることで、地理座標付きの出力を得ることができます。