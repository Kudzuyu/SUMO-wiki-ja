
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Models/MMPEVEM/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>MMPEVEM - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../.." title="SUMO wiki ja" class="md-header__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUMO wiki ja
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MMPEVEM
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  ドキュメント

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Downloads/" class="md-tabs__link">
        
  
  
    
  
  ダウンロード

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Publications/" class="md-tabs__link">
        
  
  
    
  
  出版物

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ドキュメント
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ダウンロード
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Publications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    出版物
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h1>
<p>Since version 1.11.0, SUMO comes with an energy consumption model for electric
vehicles (EVs) developed by the Teaching and Research Area Mechatronics in
Mobile Propulsion (MMP) of RWTH Aachen University. MMPEVEM (<strong>MMP</strong>'s
<strong>E</strong>lectric <strong>V</strong>ehicle <strong>E</strong>mission <strong>M</strong>odel), as it is called, is
implemented as a SUMO emission model (hence the name) and considers the
components of the powertrain individually in order to accurately compute the
power consumption in every simulation step. This includes the transmission
(i.e. a single reduction gear and a differential) with constant efficiency, the
electric motor (as well as its inverter) whose power losses are
read/interpolated from a characteristic map, a constant power consumer to
represent auxiliary devices such as air conditioning, and the battery.</p>
<h1 id="using-the-model">Using the Model<a class="headerlink" href="#using-the-model" title="Permanent link">&para;</a></h1>
<p>To utilise MMPEVEM, set <code>emissionClass="MMPEVEM"</code> in the <code>vType</code> definitions of
the vehicles you are interested in and add the following parameter:</p>
<pre><code class="language-xml">&lt;param key=&quot;has.battery.device&quot; value=&quot;true&quot;/&gt;
</code></pre>
<p>Equipping the <code>vType</code> with a battery device is necessary because it triggers the
parsing and loading of all energy-related quantities. Other than that, there is
currently no interaction between MMPEVEM and said device. This especially
entails that the battery's state and output are <em>not</em> affected by or based on
the former.</p>
<p>Although default parameters are available, it is strongly advised to explicitly
specify <em>all</em> the model parameters listed below and to make sure that they are
compatible with one another. Failing to do so may lead to wrong or even invalid
operating points (cf. <a href="#output">Output</a>) which skew the overall energy
consumption.</p>
<h2 id="model-parameters">Model Parameters<a class="headerlink" href="#model-parameters" title="Permanent link">&para;</a></h2>
<p>MMPEVEM shares a lot of SUMO's
<a href="../Electric/#defining_electric_vehicles">native electric vehicle parameters</a> and
introduces only a couple of new ones. You can find exemplary vehicle type
definitions at <code>{SUMO_HOME}/data/emissions/MMPEVEM</code><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>.</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>vehicleMass</td>
<td>float (&gt; 0)</td>
<td>1000.0 [kg]</td>
<td>Mass of the vehicle</td>
</tr>
<tr>
<td>wheelRadius</td>
<td>float (&gt; 0)</td>
<td>0.3588 [m]</td>
<td>Wheel radius</td>
</tr>
<tr>
<td>internalMomentOfInertia</td>
<td>float (&gt;= 0)</td>
<td>0.01 [kg * m^2]</td>
<td>Internal components' moment of inertia</td>
</tr>
<tr>
<td>rollDragCoefficient</td>
<td>float (&gt;= 0)</td>
<td>0.01 [1]</td>
<td>Rolling resistance coefficient</td>
</tr>
<tr>
<td>airDragCoefficient</td>
<td>float (&gt;= 0)</td>
<td>0.6 [1]</td>
<td>Air drag coefficient</td>
</tr>
<tr>
<td>frontSurfaceArea</td>
<td>float (&gt;= 0)</td>
<td>5.0 [m^2]</td>
<td>Cross-sectional area of the front of the vehicle</td>
</tr>
<tr>
<td>gearRatio</td>
<td>float (&gt; 0)</td>
<td>10.0 [1]</td>
<td>Combined ratio of the single reduction gear and the differential</td>
</tr>
<tr>
<td>gearEfficiency</td>
<td>float (&gt; 0)</td>
<td>0.96 [1]</td>
<td>Combined efficiency of the single reduction gear and the differential</td>
</tr>
<tr>
<td>maximumTorque</td>
<td>float (&gt;= 0)</td>
<td>310.0 [Nm]</td>
<td>Maximum generative torque of the electric motor</td>
</tr>
<tr>
<td>maximumPower</td>
<td>float (&gt;= 0)</td>
<td>107000.0 [W]</td>
<td>Maximum generative power of the electric motor</td>
</tr>
<tr>
<td>maximumRecuperationTorque</td>
<td>float (&gt;= 0)</td>
<td>95.5 [Nm]</td>
<td>Maximum recuperation torque of the electric motor</td>
</tr>
<tr>
<td>maximumRecuperationPower</td>
<td>float (&gt;= 0)</td>
<td>42800.0 [W]</td>
<td>Maximum recuperation power of the electric motor</td>
</tr>
<tr>
<td>internalBatteryResistance</td>
<td>float (&gt; 0)</td>
<td>0.1142 [Ohm]</td>
<td>Internal battery resistance</td>
</tr>
<tr>
<td>nominalBatteryVoltage</td>
<td>float (&gt;= 0)</td>
<td>396.0 [V]</td>
<td>Nominal battery voltage</td>
</tr>
<tr>
<td>constantPowerIntake</td>
<td>float</td>
<td>100.0 [W]</td>
<td>Constant power consumption of auxiliary devices</td>
</tr>
<tr>
<td>powerLossMap</td>
<td>string</td>
<td><code>2,1\|-1e9,1e9;-1e9,1e9\|0,0,0,0</code><sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></td>
<td>String representation of the electric motor's power loss map</td>
</tr>
</tbody>
</table>
<h2 id="power-loss-map">Power Loss Map<a class="headerlink" href="#power-loss-map" title="Permanent link">&para;</a></h2>
<p>The power loss map describes the electric motor's power loss (in W) as a
function of motor speed (in rpm) and torque (in Nm). It is passed to the model
using a custom string format which shall be explicated using the mock power loss
map below.</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>0 rpm</strong></th>
<th><strong>4000 rpm</strong></th>
<th><strong>8000 rpm</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>-100 Nm</strong></td>
<td>826.7 W</td>
<td>4295.6 W</td>
<td></td>
</tr>
<tr>
<td><strong>0 Nm</strong></td>
<td>0.0 W</td>
<td>2162.9 W</td>
<td>6137.4 W</td>
</tr>
<tr>
<td><strong>100 Nm</strong></td>
<td>826.7 W</td>
<td>4295.6 W</td>
<td>9317.5 W</td>
</tr>
<tr>
<td><strong>200 Nm</strong></td>
<td>3297.4 W</td>
<td>8361.2 W</td>
<td>14988.6 W</td>
</tr>
</tbody>
</table>
<p>Its string representation is:</p>
<pre><code>2,1|0,4000,8000;-100,0,100,200|826.7,4295.6,nan,0.0,2162.9,6137.4,826.7,4295.6,9317.5,3297.4,8361.2,14988.6
</code></pre>
<p>The string consists of three parts delimited by the <code>|</code> character:
- The first part signifies that it maps from ℝ² to ℝ¹ and does not change
  for MMPEVEM's power loss maps.
- The middle section contains the axis values in ascending order. Axes are
  separated by semi-colons while commas are used to delimit the values of each
  axis.
- The final part contains the row-major flattened entries of the map (i.e. the
  first row of the table followed by the second row etc.) separated by commas.
  Undefined operating points (e.g. (8000 rpm, -100 Nm) in this example) are
  passed as <code>nan</code>.</p>
<h3 id="tools">Tools<a class="headerlink" href="#tools" title="Permanent link">&para;</a></h3>
<p>For permanent magnet synchronous machines (PMSMs), power loss maps can be
generated with the
<a href="https://github.com/TUMFTM/Electric_Machine_Design">Electric Machine Design Tool</a>
developed by Kalt et al.<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup> and converted into the expected format using
<code>{SUMO_HOME}/tools/contributed/convertMapMat2XML.M</code>. The tool and the conversion
script require MATLAB® 2017 or newer.</p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<p>This is an example <code>vType</code> definition of a generic electric SUV and was taken
from <code>{SUMO_HOME}/data/emissions/MMPEVEM/SUV.xml</code>.</p>
<pre><code class="language-xml">&lt;vType id=&quot;SUV&quot; vClass=&quot;passenger&quot; emissionClass=&quot;MMPEVEM&quot; actionStepLength=&quot;1.0&quot;&gt;
  &lt;param key=&quot;has.battery.device&quot; value=&quot;true&quot;/&gt;
  &lt;param key=&quot;vehicleMass&quot; value=&quot;2100&quot;/&gt;
  &lt;param key=&quot;wheelRadius&quot; value=&quot;0.3835&quot;/&gt;
  &lt;param key=&quot;internalMomentOfInertia&quot; value=&quot;16&quot;/&gt;
  &lt;param key=&quot;rollDragCoefficient&quot; value=&quot;0.01&quot;/&gt;
  &lt;param key=&quot;airDragCoefficient&quot; value=&quot;0.29&quot;/&gt;
  &lt;param key=&quot;frontSurfaceArea&quot; value=&quot;3.23&quot;/&gt;
  &lt;param key=&quot;gearRatio&quot; value=&quot;9.325&quot;/&gt;
  &lt;param key=&quot;gearEfficiency&quot; value=&quot;0.96&quot;/&gt;
  &lt;param key=&quot;maximumTorque&quot; value=&quot;380&quot;/&gt;
  &lt;param key=&quot;maximumPower&quot; value=&quot;180000&quot;/&gt;
  &lt;param key=&quot;maximumRecuperationTorque&quot; value=&quot;180&quot;/&gt;
  &lt;param key=&quot;maximumRecuperationPower&quot; value=&quot;105000&quot;/&gt;
  &lt;param key=&quot;internalBatteryResistance&quot; value=&quot;0.1575&quot;/&gt;
  &lt;param key=&quot;nominalBatteryVoltage&quot; value=&quot;405&quot;/&gt;
  &lt;param key=&quot;constantPowerIntake&quot; value=&quot;360&quot;/&gt;
  &lt;param key=&quot;powerLossMap&quot; value=&quot;2,1|0,413.7931,827.5862,1241.3793,1655.1724,2068.9655,2482.7586,2896.5517,3310.3448,3724.1379,4137.931,4551.7241,4965.5172,5379.3103,5793.1034,6206.8966,6620.6897,7034.4828,7448.2759,7862.069,8275.8621,8689.6552,9103.4483,9517.2414,9931.0345,10344.8276,10758.6207,11172.4138,11586.2069,12000;-192.8157,-176.7477,-160.6797,-144.6118,-128.5438,-112.4758,-96.4078,-80.3399,-64.2719,-48.2039,-32.1359,-16.068,0,16.068,32.1359,48.2039,64.2719,80.3399,96.4078,112.4758,128.5438,144.6118,160.6797,176.7477,192.8157,208.8836,224.9516,241.0196,257.0876,273.1555,289.2235,305.2915,321.3594,337.4274,353.4954,369.5634,385.6313|3059.92,3292.2,3684.4,4125.3,4607.96,5128.38,5683.86,6272.42,6892.5,7542.89,8222.55,8930.61,9666.35,10429.1,10310.8,11089.67,10785.82,10390.27,10810.04,10481.93,10979.63,11522.42,11203.92,11766.01,12353.56,12963.17,12593.66,13195.25,13812.23,14443.49,2571.18,2794.54,3160.93,3574.57,4028.8,4519.78,5044.9,5602.28,6190.42,6808.15,7454.48,8128.58,8829.74,9557.33,10310.8,11089.67,10785.82,10390.27,10810.04,10481.93,10979.63,11522.42,11203.92,11766.01,12353.56,12963.17,12593.66,13195.25,13812.23,14443.49,2124.95,2338.35,2679.36,3066.29,3492.74,3955.01,4450.61,4977.7,5534.87,6120.96,6735.04,7376.31,8044.08,8737.75,9456.79,10200.74,10785.82,10390.27,10810.04,10481.93,10979.63,11522.42,11203.92,11766.01,12353.56,12963.17,12593.66,13195.25,13812.23,14443.49,1721.21,1923.61,2239.66,2600.44,2999.77,3434.09,3900.98,4398.68,4925.83,5481.31,6064.23,6673.8,7309.37,7970.36,8656.27,9366.63,10064.34,10390.27,10810.04,10481.93,10979.63,11522.42,11203.92,11766.01,12353.56,12963.17,12593.66,13195.25,13812.23,14443.49,1359.97,1550.33,1841.86,2177.04,2549.9,2957,3396.01,3865.22,4363.31,4889.2,5442.04,6021.05,6625.62,7255.17,7909.23,8587.34,9289.11,9670.59,10040.46,10481.93,10979.63,11522.42,11203.92,11766.01,12353.56,12963.17,12593.66,13195.25,13812.23,14443.49,1041.22,1218.5,1485.94,1796.07,2143.13,2523.76,2935.71,3377.32,3847.31,4344.64,4868.47,5418.07,5992.82,6592.18,7215.67,7862.87,8533.39,9003.21,9328.15,9724.18,10175.82,10671.82,11203.92,11766.01,12353.56,12963.17,12593.66,13195.25,13812.23,14443.49,764.98,928.14,1171.9,1457.55,1779.45,2134.36,2520.07,2934.97,3377.82,3847.62,4343.53,4864.85,5410.97,5981.38,6575.6,7193.22,7833.87,8384.9,8669.14,9024.21,9434.59,9888.97,10379.02,10898.58,11443.04,12008.93,12593.66,13195.25,13812.23,14443.49,531.24,679.23,899.76,1161.47,1458.87,1788.79,2149.09,2538.18,2954.86,3398.14,3867.21,4361.39,4880.08,5422.77,5989,6578.39,7190.55,7813.13,8060.28,8378.21,8751.34,9168.33,9620.81,10102.57,10608.98,11136.54,11682.6,12245.16,12822.71,13414.09,339.99,471.78,669.49,907.82,1181.39,1487.07,1822.77,2186.96,2578.42,2996.21,3439.52,3907.69,4400.14,4916.35,5455.9,6018.38,6603.43,7210.74,7499.12,7783.23,8122.55,8505.71,8924.32,9372.16,9844.56,10337.99,10849.81,11377.99,11920.98,12477.63,191.25,305.79,481.12,696.62,947,1229.19,1541.13,1881.29,2248.5,2641.82,3060.46,3503.76,3971.15,4462.13,4976.27,5513.19,6072.52,6653.95,6983.77,7237,7545.53,7897.97,8285.9,8703.07,9144.81,9607.58,10088.72,10586.18,11098.42,11624.26,85,181.26,334.63,527.86,755.71,1015.15,1304.14,1621.18,1965.1,2334.97,2730.02,3149.58,3593.11,4060.1,4550.14,5062.82,5597.81,6154.78,6512.75,6737.81,7018.29,7342.77,7702.83,8092.19,8506.18,8941.24,9394.7,9864.51,10349.11,10847.33,21.25,98.19,230.02,401.53,607.51,844.95,1111.82,1406.62,1728.22,2075.66,2448.2,2845.17,3266.03,3710.27,4177.48,4667.27,5179.3,5713.25,6085.03,6284.42,6539.38,6838.46,7173.21,7537.36,7926.2,8336.18,8764.61,9209.44,9669.11,10142.42,0,58.32,172.48,327.47,517.95,740.81,993.98,1275.91,1585.42,1921.55,2283.51,2670.64,3082.37,3518.18,3977.64,4460.35,4965.97,5494.17,5876.18,6057.77,6296.78,6581.41,6902.92,7254.84,7632.29,8031.6,8450,8885.36,9336.06,9800.88,21.25,98.19,230.02,401.53,607.51,844.95,1111.82,1406.62,1728.22,2075.66,2448.2,2845.17,3266.03,3710.27,4177.48,4667.27,5179.3,5713.25,6085.03,6284.42,6539.38,6838.46,7173.21,7537.36,7926.2,8336.18,8764.61,9209.44,9669.11,10142.42,85,181.26,334.63,527.86,755.71,1015.15,1304.14,1621.18,1965.1,2334.97,2730.02,3149.58,3593.11,4060.1,4550.14,5062.82,5597.81,6154.78,6512.75,6737.81,7018.29,7342.77,7702.83,8092.19,8506.18,8941.24,9394.7,9864.51,10349.11,10847.33,191.25,305.79,481.12,696.62,947,1229.19,1541.13,1881.29,2248.5,2641.82,3060.46,3503.76,3971.15,4462.13,4976.27,5513.19,6072.52,6653.95,6983.77,7237,7545.53,7897.97,8285.9,8703.07,9144.81,9607.58,10088.72,10586.18,11098.42,11624.26,339.99,471.78,669.49,907.82,1181.39,1487.07,1822.77,2186.96,2578.42,2996.21,3439.52,3907.69,4400.14,4916.35,5455.9,6018.38,6603.43,7210.74,7499.12,7783.23,8122.55,8505.71,8924.32,9372.16,9844.56,10337.99,10849.81,11377.99,11920.98,12477.63,531.24,679.23,899.76,1161.47,1458.87,1788.79,2149.09,2538.18,2954.86,3398.14,3867.21,4361.39,4880.08,5422.77,5989,6578.39,7190.55,7813.13,8060.28,8378.21,8751.34,9168.33,9620.81,10102.57,10608.98,11136.54,11682.6,12245.16,12822.71,13414.09,764.98,928.14,1171.9,1457.55,1779.45,2134.36,2520.07,2934.97,3377.82,3847.62,4343.53,4864.85,5410.97,5981.38,6575.6,7193.22,7833.87,8384.9,8669.14,9024.21,9434.59,9888.97,10379.02,10898.58,11443.04,12008.93,12593.66,13195.25,13812.23,14443.49,1041.22,1218.5,1485.94,1796.07,2143.13,2523.76,2935.71,3377.32,3847.31,4344.64,4868.47,5418.07,5992.82,6592.18,7215.67,7862.87,8533.39,9003.21,9328.15,9724.18,10175.82,10671.82,11203.92,11766.01,12353.56,12963.17,13592.32,14239.12,14902.19,15580.51,1359.97,1550.33,1841.86,2177.04,2549.9,2957,3396.01,3865.22,4363.31,4889.2,5442.04,6021.05,6625.62,7255.17,7909.23,8587.34,9289.11,9670.59,10040.46,10481.93,10979.63,11522.42,12102.14,12712.82,13350.05,14010.59,14692.09,15392.85,16111.74,16848.03,1721.21,1923.61,2239.66,2600.44,2999.77,3434.09,3900.98,4398.68,4925.83,5481.31,6064.23,6673.8,7309.37,7970.36,8656.27,9366.63,10064.34,10390.27,10810.04,11302.37,11852.06,12448.17,13082.76,13750.09,14446.05,15167.75,15913.26,16681.4,17471.69,18284.23,2124.95,2338.35,2679.36,3066.29,3492.74,3955.01,4450.61,4977.7,5534.87,6120.96,6735.04,7376.31,8044.08,8737.75,9456.79,10200.74,10785.82,11166.28,11641.97,12191.89,12801.15,13459.15,14158.41,14893.73,15661.64,16460.13,17288.37,18146.71,19036.72,18284.23,2571.18,2794.54,3160.93,3574.57,4028.8,4519.78,5044.9,5602.28,6190.42,6808.15,7454.48,8128.58,8829.74,9557.33,10310.8,11089.67,11562.13,12003.73,12542.85,13158.98,13837.82,14569.51,15347.47,16167.76,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,3059.92,3292.2,3684.4,4125.3,4607.96,5128.38,5683.86,6272.42,6892.5,7542.89,8222.55,8930.61,9666.35,10429.1,11218.29,12017.36,12398.26,12909.18,13521.37,14215.18,14977.47,15799.94,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,3591.16,3831.31,4249.75,4718.46,5230.21,5780.83,6367.49,6988.11,7641.1,8325.17,9039.24,9782.41,10553.91,11353.06,12179.27,12844.59,13300.53,13891.26,14589.29,15376.72,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,4164.89,4411.88,4856.98,5354.06,5895.56,6477.12,7095.77,7749.36,8436.22,9154.99,9904.55,10683.97,11492.43,12329.22,13193.73,13735.1,14277.15,14961.52,15763.13,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,4781.13,5033.91,5506.1,6032.11,6604.01,7217.24,7868.72,8556.18,9277.86,10032.35,10818.49,11635.29,12481.9,13357.58,14244.44,14696.41,15339.05,16136.09,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,5439.86,5697.4,6197.11,6752.59,7355.56,8001.21,8686.33,9408.55,10166.02,10957.26,11781.06,12636.37,13522.32,14438.12,15180.17,15738.39,16501.23,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,6141.09,6402.34,6930,7515.52,8150.2,8829.02,9548.61,10306.48,11100.69,11929.71,12792.25,13687.22,14613.7,15570.87,16190.45,16874.33,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,6884.82,7148.74,7704.78,8320.88,8987.93,9700.67,10455.55,11249.96,12081.89,12949.7,13852.06,14787.83,15756.02,16747.9,17286.49,18122.91,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,7671.05,7936.6,8521.45,9168.69,9868.76,10616.16,11407.15,12239.01,13109.61,14017.24,14960.5,15938.2,16949.3,17791.47,18483.6,18122.91,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,8499.78,8765.92,9380,10058.93,10792.69,11575.49,12403.42,13273.61,14183.84,15132.32,16117.57,17138.33,18193.54,18923.23,18483.6,18122.91,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,9371.01,9636.7,10280.44,10991.61,11759.72,12578.66,13444.35,14353.78,15304.6,16294.94,17323.25,18388.23,19488.72,18923.23,18483.6,18122.91,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,10284.74,10548.93,11222.76,11966.74,12769.84,13625.68,14529.95,15479.5,16471.87,17505.11,18577.57,19687.88,20674.02,18923.23,18483.6,18122.91,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,11240.96,11502.63,12206.97,12984.3,13823.05,14716.53,15660.21,16650.78,17685.67,18762.81,19880.51,21037.3,20674.02,18923.23,18483.6,18122.91,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23,12239.69,12497.78,13233.06,14044.31,14919.37,15851.22,16835.13,17867.61,18945.98,20068.07,21232.07,22436.48,20674.02,18923.23,18483.6,18122.91,17785.24,17438.49,17067.26,16667.61,16242.8,17182.8,16678.16,17611.3,17028.57,17930.23,17288.37,18146.71,19036.72,18284.23&quot;/&gt;
&lt;/vType&gt;
</code></pre>
<h1 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h1>
<p>Start SUMO with the <code>--emission-output</code> option in order to generate an XML file
with the emissions of all vehicles. In the XML, the attribute <code>electricity</code>
shows the electric energy consumption (in Wh) of a vehicle in a given time step.
Please note that this value is only provided by MMPEVEM if and only if the
<code>vtype</code> definition of the vehicle in question was set accordingly.</p>
<p>MMPEVEM is a backward-facing model, meaning that it expects a velocity,
acceleration, slope, and time step size to calculate the energy demand. This
also means that it has no way to stop the vehicle from running into invalid
operating points. The latter can be caused by implausible accelerations (for
instance due to teleportations), wrong vehicle parameters, etc. Another reason is the use of the "default" acceleration when driving at hight speed.
This can be mitigated by providing an <a href="../../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes/#car-following_model_parameters"><code>maxAccelProfile</code> or <code>desAccelProfile</code></a></p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If the model finds itself in an invalid state, it returns <code>nan</code> as energy consumption</p>
</div>
<p>On a related note, MMPEVEM assumes that the driver perfectly operates the mechanical brakes such that
torque and power are clipped to the motor's limits during recuperation.</p>
<h1 id="publications">Publications<a class="headerlink" href="#publications" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="https://doi.org/10.1109/ITSC48978.2021.9564463">L. Koch et al., "Accurate physics-based modeling of electric vehicle energy
consumption in the SUMO traffic microsimulator," 2021 IEEE International
Intelligent Transportation Systems Conference (ITSC), 2021, pp. 1650-1657, doi:
10.1109/ITSC48978.2021.9564463</a></li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>For the sake of compatibility, the XMLs in
  <code>{SUMO_HOME}/data/emissions/MMPEVEM</code> contain all
  <a href="../Electric/#defining_electric_vehicles">native electric vehicle parameters</a>.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>All operating points result in a power loss of 0 W in the default map.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p><a href="https://doi.org/10.1109/EVER.2019.8813601">S. Kalt, J. Erhard, B. Danquah and M. Lienkamp, "Electric Machine Design
  Tool for Permanent Magnet Synchronous Machines," 2019 Fourteenth International
  Conference on Ecological Vehicles and Renewable Energies (EVER), 2019,
  pp. 1-7, doi:
  10.1109/EVER.2019.8813601</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>