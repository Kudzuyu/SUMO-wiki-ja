
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Simulation/ParkingArea/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.16">
    
    
      
        <title>ParkingArea - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1c3799f8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#parkingarea" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../.." title="SUMO wiki ja" class="md-header__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUMO wiki ja
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ParkingArea
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="クリア" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      ドキュメント
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../Downloads/" class="md-tabs__link">
      ダウンロード
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../Publications/" class="md-tabs__link">
      出版物
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ドキュメント
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Downloads/" class="md-nav__link">
        ダウンロード
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Publications/" class="md-nav__link">
        出版物
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#駐車場" class="md-nav__link">
    駐車場
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#定義" class="md-nav__link">
    定義
  </a>
  
    <nav class="md-nav" aria-label="定義">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#駐車場スペースのカスタム" class="md-nav__link">
    駐車場スペースのカスタム
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#車両を駐車場に停止させる" class="md-nav__link">
    車両を駐車場に停止させる
  </a>
  
    <nav class="md-nav" aria-label="車両を駐車場に停止させる">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#駐車場へ出入りするときの操作時間のモデリング" class="md-nav__link">
    駐車場へ出入りするときの操作時間のモデリング
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#満車時の再ルーティング" class="md-nav__link">
    満車時の再ルーティング
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traci" class="md-nav__link">
    TraCI
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="parkingarea">ParkingArea<a class="headerlink" href="#parkingarea" title="Permanent link">&para;</a></h1>
<p>参考原文バージョン: 2022/3/17, e478a225c9ccd81efa6c4edcf8eb5a109ef620c6</p>
<!-- 
訳語対応
* parkingArea: 固有名のためそのまま
* maneuvering times: 操縦時間
* parking areas/area: 駐車場
* road-side parking: 路上駐車場
* car parks: 路外駐車場
-->

<h2 id="駐車場">駐車場<a class="headerlink" href="#駐車場" title="Permanent link">&para;</a></h2>
<p>道路ネットワーク外に駐車するためのエリア（路上駐車場もしくは路外駐車場）は、'<parkingArea>'要素を使って定義できます。
この機能で次の目標が達成できます。</p>
<ul>
<li>任意の駐車位置と角度を定義することで、fishbone型もしくはparallel型の駐車場を可視化できます。</li>
<li>道路ネットワーク外の駐車スペースを設定した容量に限定できます。</li>
<li>駐車場が満車になったとき<a href="Rerouter.md#rerouting_to_an_alternative_parking_area">代替可能な駐車エリアへの自動再ルーティング</a>をトリガーできます。</li>
</ul>
<h2 id="定義">定義<a class="headerlink" href="#定義" title="Permanent link">&para;</a></h2>
<p>路上駐車場であるparkingAreaは次のように定義されます。</p>
<pre><code>&lt;parkingArea id=&quot;ParkAreaA&quot; lane=&quot;a_0&quot; startPos=&quot;200&quot; endPos=&quot;250&quot; roadsideCapacity=&quot;5&quot; angle=&quot;45&quot; length=&quot;30&quot;/&gt;
</code></pre>
<p>加えて、個々の駐車スペースを定義できます。</p>
<pre><code>&lt;parkingArea id=&quot;ParkAreaB&quot; lane=&quot;b_0&quot; startPos=&quot;240&quot; endPos=&quot;260&quot; roadsideCapacity=&quot;0&quot; width=&quot;5&quot; length=&quot;10&quot; angle=&quot;30&quot;&gt;
    &lt;space x=&quot;853&quot; y=&quot;623&quot;/&gt;
    &lt;space x=&quot;863&quot; y=&quot;618&quot;/&gt;
    &lt;space x=&quot;873&quot; y=&quot;613&quot;/&gt;
    &lt;space x=&quot;883&quot; y=&quot;608&quot;/&gt;
    &lt;space x=&quot;893&quot; y=&quot;603&quot;/&gt;
    &lt;space x=&quot;848&quot; y=&quot;611&quot; width=&quot;4&quot; length=&quot;8&quot; angle=&quot;120&quot;/&gt;
    &lt;space x=&quot;858&quot; y=&quot;606&quot; width=&quot;4&quot; length=&quot;8&quot; angle=&quot;120&quot;/&gt;
    &lt;space x=&quot;868&quot; y=&quot;601&quot; width=&quot;4&quot; length=&quot;8&quot; angle=&quot;120&quot;/&gt;
    &lt;space x=&quot;878&quot; y=&quot;596&quot; width=&quot;4&quot; length=&quot;8&quot; angle=&quot;120&quot;/&gt;
    &lt;space x=&quot;888&quot; y=&quot;591&quot; width=&quot;4&quot; length=&quot;8&quot; angle=&quot;120&quot;/&gt;
&lt;/parkingArea&gt;
</code></pre>
<p>1つの駐車場の総容量は、<em>roadsideCapacity</em>と<code>&lt;space&gt;</code>要素の数の和で与えられます。</p>
<p>parkingAreaは次の変数をサポートしています。</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Value Range</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>id</strong></td>
<td>string</td>
<td>id</td>
<td></td>
<td>（重複しない）駐車場の名前</td>
</tr>
<tr>
<td><strong>lane</strong></td>
<td>string</td>
<td>valid lane id</td>
<td></td>
<td>駐車場のあるlaneの名前</td>
</tr>
<tr>
<td><strong>startPos</strong></td>
<td>float</td>
<td>-lane.length &lt; x &lt; lane.length （負の値のとき、laneの終わりからカウントされます）</td>
<td>0</td>
<td>lane上での開始点（laneのlowerな位置、メートル単位）</td>
</tr>
<tr>
<td>endPos</td>
<td>float</td>
<td>-lane.length &lt; x &lt; lane.length （負の値のとき、laneの終わりからカウントされます）</td>
<td>lane.length</td>
<td>lane上での終了点（laneのhigherな位置、メートル単位、<em>startPos</em>より0.1メートル以上大きい値である必要があります）</td>
</tr>
<tr>
<td>friendlyPos</td>
<td>bool</td>
<td><em>true,false</em></td>
<td><em>false</em></td>
<td>無効な停止位置を自動的に修正するか（デフォルト値 <em>false</em>）</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>simple String</td>
<td></td>
<td>駐車場を説明する任意のテキスト。可視化にのみ使われます。</td>
</tr>
<tr>
<td>roadsideCapacity</td>
<td>int</td>
<td>non-negative</td>
<td>0</td>
<td>道路脇の駐車場の数</td>
</tr>
<tr>
<td>onRoad</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>駐車中、車両が道路に残っているか。<br><strong>note:</strong><br>もし<em>true</em>を設定した場合、roadsideCapacityのみが使用され、<code>&lt;space&gt;</code>は定義できません。</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td>positive</td>
<td>3.2</td>
<td>道路脇の駐車スペース幅</td>
</tr>
<tr>
<td>length</td>
<td>float</td>
<td>positive</td>
<td>(endPos - startPos) / roadsideCapacity</td>
<td>道路脇の駐車スペース長さ</td>
</tr>
<tr>
<td>angle</td>
<td>float (degree)</td>
<td></td>
<td>0</td>
<td>laneに対する道路脇駐車場の角度。正は時計回り方向。</td>
</tr>
</tbody>
</table>
<h3 id="駐車場スペースのカスタム">駐車場スペースのカスタム<a class="headerlink" href="#駐車場スペースのカスタム" title="Permanent link">&para;</a></h3>
<p>space要素は次の変数をサポートしています。</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Value Range</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>x</strong></td>
<td>float</td>
<td></td>
<td></td>
<td>駐車する車両のx座標、メートル単位</td>
</tr>
<tr>
<td><strong>y</strong></td>
<td>float</td>
<td></td>
<td></td>
<td>駐車する車両のy座標、メートル単位</td>
</tr>
<tr>
<td>z</td>
<td>float</td>
<td></td>
<td>0</td>
<td>駐車する車両のz座標、メートル単位</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td></td>
<td>width value of the parent parking area</td>
<td>駐車スペースの幅</td>
</tr>
<tr>
<td>length</td>
<td>float</td>
<td></td>
<td>length value of the parent parking area</td>
<td>駐車スペースの長さ</td>
</tr>
<tr>
<td>angle</td>
<td>float (degree)</td>
<td></td>
<td>absolute angle of the parent parking area (lane angle + angle attribute)</td>
<td>駐車スペースのAbsolute angle</td>
</tr>
<tr>
<td>slope</td>
<td>float (degree)</td>
<td></td>
<td>0</td>
<td>駐車スペースのSlope angle</td>
</tr>
</tbody>
</table>
<div class="admonition caution">
<p class="admonition-title">警告</p>
<p>駐車場エリアは--additional-filesパラメータを介して設定に加える必要があります。（参考 <a href="/SUMO.html#format_of_additional_files"><em>additional-file</em></a>）</p>
</div>
<h2 id="車両を駐車場に停止させる">車両を駐車場に停止させる<a class="headerlink" href="#車両を駐車場に停止させる" title="Permanent link">&para;</a></h2>
<p>parkingPlaceに停まるvehicleを宣言するには、<code>&lt;stop&gt;</code>定義をvehicleか、もしくはそのrouteに含めなければいけません。</p>
<pre><code>&lt;vehicle id=&quot;0&quot; depart=&quot;0&quot;&gt;
    &lt;route edges=&quot;e1 e2 e3&quot;/&gt;
    &lt;stop parkingArea=&quot;pa0&quot; duration=&quot;20&quot;/&gt;
&lt;/vehicle&gt;
</code></pre>
<p>この定義は"0"と名付けたvehicleがparkingArea"0"に停まることを表します。
ただし、vehicleのrouteのedge"e1,e2,e3"のいずれか1つに、駐車場のあるlaneが含まれなければなりません。</p>
<p>vehicleの"stop"要素の変数リストは下記を参照してください。
<a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.md#stops">Definition_of_Vehicles,_Vehicle_Types,_and_Routes#Stops</a></p>
<h3 id="駐車場へ出入りするときの操作時間のモデリング">駐車場へ出入りするときの操作時間のモデリング<a class="headerlink" href="#駐車場へ出入りするときの操作時間のモデリング" title="Permanent link">&para;</a></h3>
<p>booleanオプションの<strong>--parking.maneuver</strong>をセットした場合、parkingAreaを出入りするとき、vehicleは道路上で追加の時間を使います。
この時間は道路レーンに対する駐車ロットの角度に依存し、vTypeの変数<em>maneuverAngleTimes</em>で設定できます。
この設定は、<em>ANGLE ENTERINGTIME LEAVINGTIME</em>で表される3値の組のリスト（コンマ区切り）で表します。</p>
<pre><code>&lt;vType id=&quot;example&quot; maneuverAngleTimes=&quot;10 3.0 4.0,80 1.6 11.0,110 11.0 2.0,170 8.1 3.0,181 3.0 4.0&quot;/&gt;
</code></pre>
<p>値はもっとも近い角度が使われます。
<em>maneuverAngleTimes</em>の値はvClass固有の値で初期化され、その値は、</p>
<ul>
<li>デフォルト：<code>maneuverAngleTimes="10 3 4,80 1 11,110 11 2,170 8 3,181 3 4"</code></li>
<li>truck, trailer, coach, delivery: いずれもデフォルトと比較して2倍の時間</li>
<li>bicycle, moped: <code>maneuverAngleTimes="181 1 1"</code></li>
</ul>
<h2 id="満車時の再ルーティング">満車時の再ルーティング<a class="headerlink" href="#満車時の再ルーティング" title="Permanent link">&para;</a></h2>
<p>もし、満車のparkingAreaにvehicleが到達したとき、空車になるまで待つか、<a href="../Simulation/Rerouter.md#rerouting_to_an_alternative_parking_area">新しい駐車場へ再ルーティングされます</a>。</p>
<h2 id="traci">TraCI<a class="headerlink" href="#traci" title="Permanent link">&para;</a></h2>
<p>駐車場に関する情報は<a href="../TraCI/Simulation_Value_Retrieval.md#generic_parameter_retrieval_0x7e">traci.simulation.getParameter()のコール</a>で直接アクセスできます。</p>
<ul>
<li><strong>parkingArea.capacity</strong>: 駐車スペースの総数（roadsideCapacity + <space>要素の数）</li>
<li><strong>parkingArea.occupancy</strong>: その駐車場に駐車中のvehicle数</li>
</ul>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+", "search.placeholder": "\u691c\u7d22", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.3a4b43e5.min.js"></script>
      
    
  </body>
</html>