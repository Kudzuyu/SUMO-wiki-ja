
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Simulation/Basic_Definition/">
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>基本的な定義 - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-140953050-1","kudzuyu.github.io/SUMO-wiki-ja"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#基本的な定義" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://kudzuyu.github.io/SUMO-wiki-ja/" title="SUMO wiki ja" class="md-header-nav__button md-logo" aria-label="SUMO wiki ja">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            SUMO wiki ja
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              基本的な定義
            
          </span>
        </div>
      
    </div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
    
      
    
    <a href="../.." class="md-tabs__link md-tabs__link--active">
      ドキュメント
    </a>
  </li>

      
        
      
        
      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://kudzuyu.github.io/SUMO-wiki-ja/" title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      ドキュメント
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Downloads/" class="md-nav__link">
      ダウンロード
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Publications/" class="md-nav__link">
      出版物
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#入力ファイル" class="md-nav__link">
    入力ファイル
  </a>
  
    <nav class="md-nav" aria-label="入力ファイル">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#道路ネットワーク" class="md-nav__link">
    道路ネットワーク
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#交通需要経路" class="md-nav__link">
    交通需要(経路)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#追加のファイル" class="md-nav__link">
    追加のファイル
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#読みとり順序" class="md-nav__link">
    読みとり順序
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#シミュレーション期間の定義" class="md-nav__link">
    シミュレーション期間の定義
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ステップ長の定義" class="md-nav__link">
    ステップ長の定義
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#統一メソッドの定義" class="md-nav__link">
    統一メソッドの定義
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="基本的な定義">基本的な定義<a class="headerlink" href="#基本的な定義" title="Permanent link">&para;</a></h1>
<p><a href="https://sumo.dlr.de/docs/Simulation/Basic_Definition.html">原文ページ</a></p>
<p>ここではシミュレーションのモジュールである<a href="">SUMO</a>と<a href="">SUMO-GUI</a>に必要な入力が示されています。</p>
<h2 id="入力ファイル">入力ファイル<a class="headerlink" href="#入力ファイル" title="Permanent link">&para;</a></h2>
<h3 id="道路ネットワーク">道路ネットワーク<a class="headerlink" href="#道路ネットワーク" title="Permanent link">&para;</a></h3>
<p>シミュレーションのためには、オプション <strong>--net-file <code>&lt;NETWORK_FILE&gt;</code></strong> (または <strong>-n <code>&lt;NETWORK_FILE&gt;</code></strong>)を使ってSUMO道路ネットワークを与える必要があります。
ネットワークは通常<a href="">NETCONVERT</a>か<a href="">NETGENERATE</a>によって生成されます。</p>
<h3 id="交通需要経路">交通需要(経路)<a class="headerlink" href="#交通需要経路" title="Permanent link">&para;</a></h3>
<p>シミュレーションには車が必要です。
車には一般的に<a href="">車両タイプ</a>、<a href="">車両群</a>、<a href="">車両の経路</a>が含まれています。
経路は一般にオプション <strong>--route-files <code>&lt;ROUTE_FILE&gt;</code>[, <code>&lt;ROUTE_FILE&gt;</code>]* </strong> (または <strong>-r <code>&lt;ROUTE_FILE&gt;</code>[, <code>&lt;ROUTE_FILE&gt;</code>]* </strong>)を使って与えられます。
見ての通り、一つのシミュレーションに対して複数の経路を使うことが可能です。</p>
<p>経路はソートされていなければなりません。
巨大なネットワークで百万もの経路を使う必要があるからです。
普通のPCでこれを可能にするには、全部の経路をメモリに載せないことしかありません。
パラメータ <strong> --route-files <code>&lt;ROUTES_FILE&gt;</code>[, <code>&lt;ROUTES_FILE&gt;</code>]* </strong> によって与えられる全てのファイルは一つずつ読みこまれます。
開始時間ステップから新しい経路がnステップごとに読みこまれます。
n は <strong>--route-steps <code>&lt;INT&gt;</code></strong>を使うことで操作でき、0以下の場合はSUMO/SUMO-GUIは全てのファイルを読み込ませることを強制します。</p>
<p>車両の定義を含んだ経路ファイルを<a href="">追加ファイル</a>として<a href="">SUMO</a>/<a href="">SUMO-GUI</a>に与えることもできます。</p>
<h3 id="追加のファイル">追加のファイル<a class="headerlink" href="#追加のファイル" title="Permanent link">&para;</a></h3>
<p>一つ以上の<a href="">追加ファイル</a> が、情報の追加に使われます。</p>
<ul>
<li>インフラ関係: <a href="">交通信号プログラム</a>、と<a href="">バス停</a></li>
<li>追加の視覚化: <a href="">POIs</a>と<a href="">polygons</a>(例: 河川や家屋)</li>
<li>動的シミュレーション操作構造: <a href="">各種の速度標識</a>や<a href="">リルーター</a> </li>
<li>需要関係: <a href="">車両タイプ</a>と<a href="">経路</a></li>
</ul>
<h3 id="読みとり順序">読みとり順序<a class="headerlink" href="#読みとり順序" title="Permanent link">&para;</a></h3>
<p>ロード順序は次のようになっています:</p>
<ol>
<li>ネットワーク読み込み</li>
<li>オプションに表われた順に、追加ファイルを上から順に読み込み</li>
<li>ルートファイルが開かれ、最初のnステップを読み込み</li>
<li>nステップ毎に、次のnステップ分のルートを読み込み</li>
</ol>
<h2 id="シミュレーション期間の定義">シミュレーション期間の定義<a class="headerlink" href="#シミュレーション期間の定義" title="Permanent link">&para;</a></h2>
<p>シミュレーションにはシミュレートされる期間が必要です。
<a href="">SUMO</a>および<a href="">SUMO-GUI</a>においては、<strong>--begin <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a></strong> (または <strong>-b <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a></strong>) と<strong>--end <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a></strong>(<strong>-e <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a>)</strong>を使って与えます。
オプション<strong>--end</strong>が与えられているかどうかがシミュレーションに影響を及ぼすことに注意してください。
詳細を以下に示します。</p>
<p>シミュレーションは<strong>--begin</strong>で与えられた時間から始まり、デフォルトでは0です。
開始時間より早い出発時間(<code>depart</code>)を持つ全ての車両は捨てられます。</p>
<p>シミュレーションはステップごとに実行されます。</p>
<p>シミュレーションは以下のどれかの状況で終了します:</p>
<ul>
<li>終了ステップが<strong>--end</strong>で与えらており、そのステップに到達したとき()</li>
<li><strong>--end</strong>が与えられず、全ての車がシミュレートされた後。最後の車がシミュレーション範囲の外に出たときがこれにあたります。<a href="">TraCI</a>による接続がある場合は、最後の車が消えてもシミュレーションは続きます(場合によっては「永遠に」)</li>
<li><a href="">TraCI</a>からのcloseコマンドを受けとったとき</li>
</ul>
<h2 id="ステップ長の定義">ステップ長の定義<a class="headerlink" href="#ステップ長の定義" title="Permanent link">&para;</a></h2>
<p>SUMO/SUMO-GUIはデフォルトで一秒一ステップでシミュレーションを行ないます。
<strong>--step-length</strong>を使うことでこの設定を上書きできます。<code>&lt;TIME&gt;</code>は秒で与えられますが、実数を入力することができます。
結果として、<strong>--step-length 0.01</strong>はシミュレーションを10ミリ秒単位で動かします。</p>
<p><strong>--default.action-step-length<a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a></strong>オプションを指定すると、車は指定されたステップごとにしか、車線変更や加速などの順応動作を行なわなくなります(標準では各ステップごとに行なう)。
行動間隔(action-step-length)をシミュレーションのステップ長と異なった長さにすると<a href="#統一メソッドの定義">統一メソッド</a>は自動的に「弾道型」に変更されます。</p>
<p>行動間隔をシミュレーションステップ長よりも長くするとシミュレーションは早くなりますが、仮定されている反応時間タウより長い値は、車の衝突を起こすかもしれません。
詳細は<a href="">車両タイプ</a>と<a href="">車の追従</a>に関する説明を参照してください。</p>
<div class="admonition note">
<p class="admonition-title">注</p>
<p>いくつかの使用可能な追従モデルはステップ長1秒のシミュレーション用に開発されていることに注意してください。
その他のステップ長ではうまく動かないかもしれません。</p>
</div>
<h2 id="統一メソッドの定義">統一メソッドの定義<a class="headerlink" href="#統一メソッドの定義" title="Permanent link">&para;</a></h2>
<p>シミュレーションにおけるダイナミクスを管理する数学的な統一手法が二つあります。
現在標準はオイラー更新(Euler-update)で、ステップ中で車が等速運動をすると仮定します。
これにかわるものとしてSUMOはステップ中で等加速度運動を仮定する弾道型更新(Ballistic-update)が提案されています。
弾道型更新は<strong>--step-method.ballistic</strong>オプションを指定するか、次の文を設定ファイルにいれることで有効化できます。</p>
<pre><code>&lt;processing&gt;
    &lt;step-method.ballistic value=&quot;true&quot;/&gt;
&lt;/processing&gt;
</code></pre>

<p>特に、大きな時間ステップ(例: 1秒)において連続的ダイナミクスを用いた車の追従モデルでは弾道型更新はより現実的なダイナミクスを生みだします。
<a href="http://arxiv.org/abs/1403.4881">Martin Treiber, Venkatesan Kanagaraj, Comparing Numerical Integration Schemes for Time-Continuous Car-Following Models</a> も参照してください。</p>
<p>弾道型更新は車の位置を、現在の速度ではなくタイムステップ間の平均速度を使ってアップデートします。
ステップ長1秒において次の例を考えてみましょう:</p>
<p>車が時刻tにおいて、位置xにあり4.5m/sで動いている時に、時刻t+1で速度が0になるようにブレーキを踏んだ。</p>
<ul>
<li>オイラー更新: 車はt+1ステップで、位置xに停止します(即時減速)。</li>
<li>弾道型更新: 車はt+1ステップで、位置x+2.25に停止します(連続減速)。</li>
</ul>
<div class="admonition caution">
<p class="admonition-title">警告</p>
<p>現在弾道型更新はサブレーンモデルとの組みあわせではうまく動きません。
詳しくは[issue #2581]を参照してください。</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+", "search.placeholder": "\u691c\u7d22", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>