
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Simulation/Basic_Definition/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Basic Definition - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#input-files" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../.." title="SUMO wiki ja" class="md-header__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUMO wiki ja
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Basic Definition
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  ドキュメント

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Downloads/" class="md-tabs__link">
        
  
  
    
  
  ダウンロード

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../Publications/" class="md-tabs__link">
        
  
  
    
  
  出版物

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ドキュメント
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ダウンロード
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Publications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    出版物
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#road-network" class="md-nav__link">
    <span class="md-ellipsis">
      Road Network
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traffic-demand-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Traffic Demand (Routes)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-files" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-order" class="md-nav__link">
    <span class="md-ellipsis">
      Parsing Order
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p>In the following, the inputs needed by the simulation modules
<a href="../../sumo/">sumo</a> and <a href="../../sumo-gui/">sumo-gui</a> are
described.</p>
<h1 id="input-files">Input Files<a class="headerlink" href="#input-files" title="Permanent link">&para;</a></h1>
<h2 id="road-network">Road Network<a class="headerlink" href="#road-network" title="Permanent link">&para;</a></h2>
<p>For a simulation, a <a href="../../Networks/SUMO_Road_Networks/">SUMO Road
Network</a> must be given using the
option <strong>--net-file</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;NETWORK_FILE&gt;</em></a> (or <strong>-n</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;NETWORK_FILE&gt;</em></a>). The network is normally built using
<a href="../../netconvert/">netconvert</a> or
<a href="../../netgenerate/">netgenerate</a>.</p>
<h2 id="traffic-demand-routes">Traffic Demand (Routes)<a class="headerlink" href="#traffic-demand-routes" title="Permanent link">&para;</a></h2>
<p>The vehicles to simulate must be given. Their description normally
includes <a href="../../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes/">vehicle types, vehicles, and vehicle
routes</a>.
Routes are normally given to the simulation modules using the option <strong>--route-files</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;ROUTES_FILE&gt;</em></a>[,<a href="/Basics/Notation/#データタイプ"><em>&lt;ROUTES_FILE&gt;</em></a>]*
(or <strong>-r</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;ROUTES_FILE&gt;</em></a>[,<a href="/Basics/Notation/#データタイプ"><em>&lt;ROUTES_FILE&gt;</em></a>]*). As you can see, you can use more than one route file within a
single simulation run.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The vehicular elements (trips, vehicles, flows) must be sorted by depart / begin time.</p>
</div>
<p>The reason is that route files are read incrementally to conserve memory and enable large simulations.
All files given as parameter to <strong>--route-files</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;ROUTES_FILE&gt;</em></a>[,<a href="/Basics/Notation/#データタイプ"><em>&lt;ROUTES_FILE&gt;</em></a>]* are read step-wise.
Starting at the begin time step, new routes are loaded every n time steps for the next n time steps. n
may be controlled using the <strong>--route-steps</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;INT&gt;</em></a> where &lt;=0 forces
<a href="../../sumo/">sumo</a>/<a href="../../sumo-gui/">sumo-gui</a> to load the file
completely. Fetching routes for the next steps only implies that the
vehicle types - or maybe "global" routes - must be given in prior to the
routes that use them.</p>
<p>You may also give routes including vehicle definitions as <a href="/SUMO.html#format_of_additional_files"><em>additional-file</em></a> to
<a href="../../sumo/">sumo</a>/<a href="../../sumo-gui/">sumo-gui</a>.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>vTypes and named routes must precede vehicle definitions which reference those types and routes.</p>
</div>
<h2 id="additional-files">Additional Files<a class="headerlink" href="#additional-files" title="Permanent link">&para;</a></h2>
<p>One or more <a href="/SUMO.html#format_of_additional_files"><em>additional-file</em></a>(s) are used to load additional entities:</p>
<ul>
<li>infrastructure related things: <a href="../Traffic_Lights/">traffic light
  programs</a>, <a href="../Output/Induction_Loops_Detectors_%28E1%29/">induction
  loops</a>
  and <a href="../Public_Transport/">bus stops</a></li>
<li>additional visualization:
  <a href="../Shapes/#poi_point_of_interest_definitions">POIs</a>
  and <a href="../Shapes/#polygon_definitions">polygons</a>
  (i.e. rivers and houses)</li>
<li>dynamic simulation control structures: <a href="../Variable_Speed_Signs/">variable speed
  signs</a> and
  <a href="../Rerouter/">rerouters</a></li>
<li>demand related entities: <a href="../../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes/#vehicle_types">vehicle
  types</a>
  and
  <a href="../../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes/#vehicles_and_routes">routes</a></li>
</ul>
<p>All these additional structures / definitions are given to the
simulation using the <strong>--additional-files</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;FILE&gt;</em></a>[,<a href="/Basics/Notation/#データタイプ"><em>&lt;FILE&gt;</em></a>]*.
Each file is read completely into memory and the list of files is processed from left to right.</p>
<h2 id="parsing-order">Parsing Order<a class="headerlink" href="#parsing-order" title="Permanent link">&para;</a></h2>
<p>To ensure the correct resolution of references, it is important to know
what is loaded when. The order is as follows:</p>
<ol>
<li>the network is read</li>
<li>the additional files are read (completely from top to bottom) in the
    order in which they are given in the option</li>
<li>the route files are opened and the first n steps are read</li>
<li>each n time steps, the routes for the next n time steps are read</li>
</ol>
<h1 id="defining-the-time-period-to-simulate">Defining the Time Period to Simulate<a class="headerlink" href="#defining-the-time-period-to-simulate" title="Permanent link">&para;</a></h1>
<p>Each simulation requires the definition about the time period to be
simulated. This is given to <a href="../../sumo/">sumo</a> or
<a href="../../sumo-gui/">sumo-gui</a> using the options <strong>--begin</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a> (or <strong>-b</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a> for short) and <strong>--end</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a>
(<strong>-e</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a>). Please note that whether the option <strong>--end</strong> was given influences the
simulation's behavior. The details are described below.</p>
<p>The simulation starts at the time given in <strong>--begin</strong>, which defaults to 0. All
vehicles with a departure time (<code>depart</code>)
lower than the begin time are discarded.</p>
<p>The simulation performs each time step one-by-one.</p>
<p>The simulation ends in the following cases:</p>
<ul>
<li>The final time step was given using <strong>--end</strong> and this time step was reached
  (time after a step is &gt;= end).</li>
<li>No value for <strong>--end</strong> has been given and all vehicles have been simulated.
  The state of the simulation is the one in which the last vehicle has
  left the simulated area. If a <a href="../../TraCI/">TraCI</a> connection
  is active, the simulation will continue even after the last vehicle
  (potentially "forever").</li>
<li>A close command has been received via <a href="../../TraCI/">TraCI</a></li>
</ul>
<h1 id="defining-the-time-step-length">Defining the Time Step Length<a class="headerlink" href="#defining-the-time-step-length" title="Permanent link">&para;</a></h1>
<p><a href="../../sumo/">sumo</a>/<a href="../../sumo-gui/">sumo-gui</a> use a time step
of one second per default. You may override this using the <strong>--step-length</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a> option. <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a> is
by giving a value in seconds between [0.001 and 1.0].</p>
<p>Example: <strong>--step-length 0.01</strong> will run the simulation using time steps of 10ms.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Technically, larger values can be used but many car-following models are not tested with values above 1 and may fail to work as expected.The step-length also sets a lower bound on driver reaction times which increases the likelihood of collisions when using values above 1 without adapting other model parameters (tau).</p>
</div>
<p>Setting a lower step-length has many consequences:</p>
<ul>
<li>the simulation takes longer to simulate a given amount of time (because it needs more steps to do so)</li>
<li>the generated movements are generally smoother</li>
<li>vehicle insertion and lane changing succeed more often in a given amount of time since the conditions are checked more often</li>
<li>the frequency of vehicle speed adaptation increases unless prevented by setting action-step-length (see below)</li>
</ul>
<h1 id="defining-the-action-step-length">Defining the Action Step Length<a class="headerlink" href="#defining-the-action-step-length" title="Permanent link">&para;</a></h1>
<p>Specifying the option <strong>--default.action-step-length</strong> <a href="/Basics/Notation/#データタイプ"><em>&lt;TIME&gt;</em></a> implies that vehicles perform calculations for
the adaption of accelerations or lane-change maneuvers only at intervals
of the given length and not within every simulations step (which is the
default). Using an action-step-length different from the simulation step
length automatically switches the <a href="#defining_the_integration_method">integration
method</a> to 'ballistic'.</p>
<p>Choosing the action step length larger than the simulation step length
may speed up the simulation, but note that a value larger than the
assumed reaction time tau may induce collisions. See the description of
<a href="../../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes/#vehicle_types">vehicle
type</a>
and
<a href="../../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes/#car-following_models">car-following</a>
parameters for details.</p>
<h1 id="defining-the-integration-method">Defining the Integration Method<a class="headerlink" href="#defining-the-integration-method" title="Permanent link">&para;</a></h1>
<p>There are two numerical integration methods available, which control the
dynamical update of the simulation. Currently, the default is an Euler
update, which considers the vehicle's speed constant during one time
step. As an alternative, SUMO offers the ballistic update, which
considers the acceleration constant during one time step. It can be
activated by giving the option <strong>--step-method.ballistic</strong> or including the following into the
configuration file:</p>
<pre><code class="language-xml">&lt;processing&gt;
   &lt;step-method.ballistic value=&quot;true&quot;/&gt;
&lt;/processing&gt;
</code></pre>
<p>Especially for larger time-steps (e.g. 1sec.) ballistic update yields
more realistic dynamics for car-following models based on continuous
dynamics. See also <a href="https://arxiv.org/abs/1403.4881"><em>Martin Treiber, Venkatesan Kanagaraj</em>, Comparing
Numerical Integration Schemes for Time-Continuous Car-Following
Models</a>.</p>
<p>Ballistic update causes positions to be updated with the average speed
between time steps instead of the speed of the current time step.
Consider this example with step-length 1s:</p>
<p>Vehicle at position x drives with speed 4.5m/s in step t and brakes to
speed 0 in step t+1.</p>
<ul>
<li>Euler-update: Vehicle is stopped at position x in step t+1 (instant
  deceleration)</li>
<li>Ballistic-update: Vehicle is stopped at position x + 2.25 in step
  t+1 (continuous deceleration)</li>
</ul>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The ballistic update is currently not working well in combination with the sublane-model. See #2581</p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>