
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kudzuyu.github.io/SUMO-wiki-ja/Simulation/Output/Traffic_Lights/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Traffic Lights - SUMO wiki ja</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:600,800">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tls-states" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../.." title="SUMO wiki ja" class="md-header__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../../images/sumo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUMO wiki ja
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Traffic Lights
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  ドキュメント

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Downloads/" class="md-tabs__link">
        
  
  
    
  
  ダウンロード

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Publications/" class="md-tabs__link">
        
  
  
    
  
  出版物

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="SUMO wiki ja" class="md-nav__button md-logo" aria-label="SUMO wiki ja" data-md-component="logo">
      
  <img src="../../../images/sumo-logo.png" alt="logo">

    </a>
    SUMO wiki ja
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ドキュメント
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ダウンロード
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Publications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    出版物
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tls-states" class="md-nav__link">
    <span class="md-ellipsis">
      TLS States
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TLS States">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiating-within-the-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiating within the Simulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generated-output" class="md-nav__link">
    <span class="md-ellipsis">
      Generated Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-output" class="md-nav__link">
    <span class="md-ellipsis">
      Optional Output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tls-switches" class="md-nav__link">
    <span class="md-ellipsis">
      TLS Switches
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TLS Switches">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiating-within-the-simulation_1" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiating within the Simulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generated-output_1" class="md-nav__link">
    <span class="md-ellipsis">
      Generated Output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tls-switch-states" class="md-nav__link">
    <span class="md-ellipsis">
      TLS Switch States
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TLS Switch States">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiating-within-the-simulation_2" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiating within the Simulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generated-output_2" class="md-nav__link">
    <span class="md-ellipsis">
      Generated Output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tls-programs" class="md-nav__link">
    <span class="md-ellipsis">
      TLS Programs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TLS Programs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiating-within-the-simulation_3" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiating within the Simulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generated-output_3" class="md-nav__link">
    <span class="md-ellipsis">
      Generated Output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coupled-lane-area-detectors" class="md-nav__link">
    <span class="md-ellipsis">
      Coupled Lane Area Detectors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coupled Lane Area Detectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiating-within-the-simulation_4" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiating within the Simulation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Traffic Lights</h1>

<p>SUMO offers some possibilities to save states of traffic lights during
the simulation, a feature mainly used to evaluate adaptive traffic light
algorithms. We will now describe these outputs.</p>
<h2 id="tls-states">TLS States<a class="headerlink" href="#tls-states" title="Permanent link">&para;</a></h2>
<h3 id="instantiating-within-the-simulation">Instantiating within the Simulation<a class="headerlink" href="#instantiating-within-the-simulation" title="Permanent link">&para;</a></h3>
<p>To enable writing tls state information you have to add the following
definition into one of your <a href="../../../sumo/#format_of_additional_files"><em>additional-files</em></a>:</p>
<p><code>&lt;timedEvent type="SaveTLSStates" source="&lt;TLS_ID&gt;" dest="&lt;OUTPUT_FILE&gt;"/&gt;</code></p>
<p>The attributes have herein the following meanings:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>type</strong></td>
<td>enum (string)</td>
<td>type of the event trigger; always "SaveTLSStates" herein.</td>
</tr>
<tr>
<td><strong>dest</strong></td>
<td>file name</td>
<td>The file to save the state into.</td>
</tr>
<tr>
<td>source</td>
<td>referenced tls id</td>
<td>The id of the traffic light which state shall be written. If not given, all tls will be saved</td>
</tr>
<tr>
<td>saveDetectors</td>
<td>bool</td>
<td>Whether detector states shall be saved</td>
</tr>
<tr>
<td>saveConditions</td>
<td>bool</td>
<td>Whether condition states shall be saved</td>
</tr>
</tbody>
</table>
<h3 id="generated-output">Generated Output<a class="headerlink" href="#generated-output" title="Permanent link">&para;</a></h3>
<p>The output looks like this:</p>
<pre><code class="language-xml">&lt;tlsStates&gt;
   &lt;tlsState time=&quot;&lt;SIM_STEP&gt;&quot; id=&quot;&lt;TLS_ID&gt;&quot; programID=&quot;&lt;TLS_SUBID&gt;&quot; phase=&quot;&lt;PHASE_INDEX&gt;&quot; state=&quot;&lt;STATE&gt;&quot;/&gt;
   ... further states ...
&lt;/tlsStates&gt;
</code></pre>
<p>The state is saved in each simulation step. The state itself is coded
as a list of the characters 'G', 'Y', and 'R', standing for "green",
"yellow", and "red", respectively, see <a href="../../Traffic_Lights/">Simulation/Traffic
Lights</a>. Each character describes
a link controlled by the traffic light. Only the state of the current
program is saved (see also "Adding new Programs"). The attributes have
the following meaning:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>(simulation) seconds</td>
<td>The simulation time this entry was generated for</td>
</tr>
<tr>
<td>id</td>
<td>id</td>
<td>The id of the tls that is responsible for the link.</td>
</tr>
<tr>
<td>programID</td>
<td>id</td>
<td>The sub-id of the tls that is (currently) responsible for the link.</td>
</tr>
<tr>
<td>phase</td>
<td>uint</td>
<td>The index of the reported phase within the program</td>
</tr>
<tr>
<td>state</td>
<td>id</td>
<td>The current state</td>
</tr>
</tbody>
</table>
<h3 id="optional-output">Optional Output<a class="headerlink" href="#optional-output" title="Permanent link">&para;</a></h3>
<p>If the attributes 'saveDetectors' or 'saveConditions' are set, additional attributes are written to the output.
These attributes are only written for traffic lights <a href="../../Traffic_Lights/#traffic_lights_that_respond_to_traffic">controlled by detectors</a> and for traffic lights with <a href="../../Traffic_Lights/#type_actuated_with_custom_switching_rules">custom switching rules</a> respectively.</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tlsStates</td>
<td>detectors</td>
<td>list (strings)</td>
<td>The ids of all detectors that are controlling this traffic light</td>
</tr>
<tr>
<td>tlsState</td>
<td>detectors</td>
<td>list (int)</td>
<td>The activation state of all detectors that are controlling this traffic light</td>
</tr>
<tr>
<td>tlsStates</td>
<td>conditions</td>
<td>list (strings)</td>
<td>The ids of all (visible) conditions that are controlling this traffic light</td>
</tr>
<tr>
<td>tlsState</td>
<td>conditions</td>
<td>list (int)</td>
<td>The value of all (visible) conditions that are controlling this traffic light</td>
</tr>
</tbody>
</table>
<h2 id="tls-switches">TLS Switches<a class="headerlink" href="#tls-switches" title="Permanent link">&para;</a></h2>
<h3 id="instantiating-within-the-simulation_1">Instantiating within the Simulation<a class="headerlink" href="#instantiating-within-the-simulation_1" title="Permanent link">&para;</a></h3>
<p>This output contains information about the green light phases of links
(lane-to-lane connections). Each green light phase is describes by its
begin, end and duration. An entry is written into the file as soon a
green phase of a link ends. To enable writing tls switch information you
have to add the following definition into one of your <a href="../../../sumo/#format_of_additional_files"><em>additional-files</em></a>:</p>
<p><code>&lt;timedEvent type="SaveTLSSwitchTimes" source="&lt;TLS_ID&gt;" dest="&lt;OUTPUT_FILE&gt;"/&gt;</code></p>
<p>The attributes have herein the following meanings:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>type</strong></td>
<td>enum (string)</td>
<td>type of the event trigger; always "SaveTLSSwitches" herein.</td>
</tr>
<tr>
<td><strong>dest</strong></td>
<td>file name</td>
<td>The file to save the state into.</td>
</tr>
<tr>
<td>source</td>
<td>referenced tls id</td>
<td>The id of the traffic light which state shall be written. If not given, all tls will be saved</td>
</tr>
</tbody>
</table>
<h3 id="generated-output_1">Generated Output<a class="headerlink" href="#generated-output_1" title="Permanent link">&para;</a></h3>
<p>The output looks like this:</p>
<pre><code class="language-xml">&lt;tlsSwitches&gt;
   &lt;tlsSwitch tls=&quot;&lt;TLS_ID&gt;&quot; programID=&quot;&lt;TLS_SUB_ID&gt;&quot; \
      fromLane=&quot;&lt;LINKS_SOURCE_LANE&gt;&quot; toLane=&quot;&lt;LINK_DESTINATION_LANE&gt;&quot; \
      begin=&quot;&lt;BEGIN_OF_GREEN_PHASE&gt;&quot; end=&quot;&lt;END_OF_GREEN_PHASE&gt;&quot; \
      duration=&quot;&lt;DURATION_OF_GREEN_PHASE&gt;&quot;/&gt;
   ... further switch points ...
&lt;/tlsSwitches&gt;
</code></pre>
<p>Each entry is written into a single line. The values have the following
meanings:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tls</td>
<td>id</td>
<td>The id of the tls that is responsible for the link.</td>
</tr>
<tr>
<td>programID</td>
<td>id</td>
<td>The sub-id of the tls that is (currently) responsible for the link.</td>
</tr>
<tr>
<td>fromLane</td>
<td>id</td>
<td>The id of the lane the link starts at.</td>
</tr>
<tr>
<td>toLane</td>
<td>id</td>
<td>The id of the lane the link ends at.</td>
</tr>
<tr>
<td>begin</td>
<td>(simulation) seconds</td>
<td>Begin of this link's last green phase.</td>
</tr>
<tr>
<td>end</td>
<td>(simulation) seconds</td>
<td>End of this link's last green phase.</td>
</tr>
<tr>
<td>duration</td>
<td>(simulation) seconds</td>
<td>Duration of this link's last green phase.</td>
</tr>
</tbody>
</table>
<h2 id="tls-switch-states">TLS Switch States<a class="headerlink" href="#tls-switch-states" title="Permanent link">&para;</a></h2>
<h3 id="instantiating-within-the-simulation_2">Instantiating within the Simulation<a class="headerlink" href="#instantiating-within-the-simulation_2" title="Permanent link">&para;</a></h3>
<p>This output saves tls-states as the TLS States - output does but not
every second but only at times the phases or the program (see also
"Adding new Programs") change. The output is instantiated by adding the
following definition into one of your <a href="../../../sumo/#format_of_additional_files"><em>additional-files</em></a>:</p>
<p><code>&lt;timedEvent type="SaveTLSSwitchStates" source="&lt;TLS_ID&gt;" dest="&lt;OUTPUT_FILE&gt;"/&gt;</code></p>
<p>The attributes have herein the following meanings:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>type</strong></td>
<td>enum (string)</td>
<td>type of the event trigger; always "SaveTLSSwitchStates" herein.</td>
</tr>
<tr>
<td><strong>dest</strong></td>
<td>file name</td>
<td>The file to save the state into.</td>
</tr>
<tr>
<td>source</td>
<td>referenced tls id</td>
<td>The id of the traffic light which state shall be written. If not given, all tls will be saved</td>
</tr>
</tbody>
</table>
<h3 id="generated-output_2">Generated Output<a class="headerlink" href="#generated-output_2" title="Permanent link">&para;</a></h3>
<p>The output looks like this:</p>
<pre><code>&lt;tlsStates&gt;
   &lt;tlsState time=&quot;&lt;SIM_STEP&gt;&quot; id=&quot;&lt;TLS_ID&gt;&quot; programID=&quot;&lt;TLS_SUBID&gt;&quot; phase=&quot;&lt;PHASE_INDEX&gt;&quot; state=&quot;&lt;STATE&gt;&quot;/&gt;
   ... further states ...
&lt;/tlsStates&gt;
</code></pre>
<p>Each entry is written into a single line. The values have the same
meaning as those in the
<a href="#generated_output">SaveTLSStates-output</a>.</p>
<h2 id="tls-programs">TLS Programs<a class="headerlink" href="#tls-programs" title="Permanent link">&para;</a></h2>
<h3 id="instantiating-within-the-simulation_3">Instantiating within the Simulation<a class="headerlink" href="#instantiating-within-the-simulation_3" title="Permanent link">&para;</a></h3>
<p>To enable writing tls state information you have to add the following
definition into one of your <a href="../../../sumo/#format_of_additional_files"><em>additional-files</em></a>:</p>
<p><code>&lt;timedEvent type="SaveTLSProgram" source="&lt;TLS_ID&gt;" dest="&lt;OUTPUT_FILE&gt;"/&gt;</code></p>
<p>The attributes have herein the following meanings:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>type</strong></td>
<td>enum (string)</td>
<td>type of the event trigger; always "SaveTLSStates" herein.</td>
</tr>
<tr>
<td><strong>dest</strong></td>
<td>file name</td>
<td>The file to save the state into.</td>
</tr>
<tr>
<td>source</td>
<td>referenced tls id</td>
<td>The id of the traffic light which state shall be written. If not given, all tls will be saved</td>
</tr>
</tbody>
</table>
<h3 id="generated-output_3">Generated Output<a class="headerlink" href="#generated-output_3" title="Permanent link">&para;</a></h3>
<p>The output is a loadable tlLogic element that records the complete state sequence of a traffic light:</p>
<pre><code class="language-xml">&lt;tlsStates&gt;
   &lt;tlLogic id=&quot;&lt;TLS_ID&gt;&quot; programID=&quot;&lt;TLS_SUBID&gt;&quot; type=&quot;static/&gt;
      &lt;phase state=&quot;...&quot; duration=&quot;...&quot;
      ...
   &lt;/tlLogic&gt;
&lt;/tlsStates&gt;
</code></pre>
<p>A new phase is saved whenever the state changes. A new tlLogic is written whenever the programID changes.</p>
<h2 id="coupled-lane-area-detectors">Coupled Lane Area Detectors<a class="headerlink" href="#coupled-lane-area-detectors" title="Permanent link">&para;</a></h2>
<h3 id="instantiating-within-the-simulation_4">Instantiating within the Simulation<a class="headerlink" href="#instantiating-within-the-simulation_4" title="Permanent link">&para;</a></h3>
<p>It is possible to add
<a href="../Lanearea_Detectors_%28E2%29/">E2-detectors</a>
which are coupled to a traffic light. Then, the tls is used to determine
the intervals (aggregation) time instead of giving a fixed aggregation
time. In this case, output will be generated every time the traffic
light switches. To use this feature set attribute <code>tl="&lt;TL_ID&gt;"</code> to the desired
traffic light id instead of attribute <code>&lt;period&gt;</code>:</p>
<p><code>&lt;e2Detector id="&lt;ID&gt;" lane="&lt;LANE_ID&gt;" pos="&lt;POSITION_ON_LANE&gt;" length="&lt;DETECTOR_LENGTH&gt;" tl="&lt;TL_ID&gt;" file="&lt;OUTPUT_FILE&gt;" [timeThreshold="&lt;FLOAT&gt;"] [speedThreshold="&lt;FLOAT&gt;"] [jamThreshold="&lt;FLOAT&gt;"]/&gt;</code></p>
<p>A further feature allows you to collect measures only for the time the
light turns red for a certain link (connection between the incoming and
the outgoing lane). This allows measuring the maximum jam length in
front of a red traffic light for this link. To enable this, one has to
add the name of the following lane:
<code>to="&lt;LANE_ID&gt;"</code> to the list of attributes.
The incoming lane is already given by the
"<code>lane</code>"-attribute.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>